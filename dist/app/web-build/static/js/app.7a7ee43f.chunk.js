(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{423:function(e,t,n){n(424),e.exports=n(892)},892:function(e,t,n){"use strict";n.r(t);n(893);var r=n(920),a=n(5),o=n.n(a),i=n(18),l=n.n(i),c=n(1),u=n.n(c),d=n(2),m=n(80),s=Object(d.extendTheme)({fonts:{heading:"Lexend",body:"Lexend",mono:"Lexend"},components:{Text:{baseStyle:{color:"gray.800",fontFamily:"Lexend_400Regular"},defaultProps:{size:"md"},sizes:{lg:{fontSize:"32px"},md:{fontSize:"14px"},sm:{fontSize:"12px"}}},Input:{baseStyle:{color:"gray.800",fontFamily:"Lexend_400Regular"},defaultProps:{size:"md"},sizes:{lg:{fontSize:"32px"},md:{fontSize:"14px"},sm:{fontSize:"12px"}}},Heading:{baseStyle:{color:"gray.800",fontFamily:"Lexend_400Regular"},defaultProps:{size:"lg"},sizes:{lg:{fontSize:"32px"},md:{fontSize:"24px"},sm:{fontSize:"20px"}}}}});var p,g=n(3),f=n.n(g),x=n(7),h=n.n(x),v=n(14),b=n.n(v),E=n(8),y=n.n(E),w=n(26),C=n.n(w),S=n(185),B=n(229),I=n(912),O=n(917),k=n(899),j=n(911),W=n(918),U=n(919),_=n(913),z=n(392),T=n.n(z),$=n(394),P=n(393),R=n.n(P),A=n(916);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=Object(O.a)(p||(p=C()(["\n  query {\n    user: authenticatedUser {\n      id\n      phone\n      name\n      email\n      avatar {\n        publicUrl\n      }\n      gender\n      description\n    }\n  }\n"])));function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",n="https://odanang.net/admin/api",r=e,a=new W.a({uri:n,headers:{as:r,locale:t}}),o=Object($.a)((function(e,t){var n,r;return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,e.next=3,l.a.awrap(S.a.getItem("@token"));case 3:return r=e.sent,e.abrupt("return",{headers:M(M({},n),{},{authorization:r?"Bearer "+r:""})});case 5:case"end":return e.stop()}}),null,null,null,Promise)})).concat(a),i=new U.a;return new k.a({link:o,ssrMode:"undefined"===typeof window,cache:i})}var N={};function L(e){return N[e]}function Y(e,t){return R()(e,t,{arrayMerge:function(e,t){return[].concat(b()(t),b()(e.filter((function(e){return t.every((function(t){return!T()(e,t)}))}))))}})}var V=Object(c.createContext)(),q=Object(A.a)();function G(e){var t,n=e.navigation,r=e.header,a=Object(j.a)(F),o=(a.loading,a.error,a.data),i=(void 0===o?{}:o).user,l=void 0===i?null:i;a.user=l;var m=M(M({},B.a),{},{colors:M(M({},B.a.colors),{},{background:"rgb(255, 255, 255)"})});return Object(c.useEffect)((function(){})),a.loading?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(V.Provider,{value:a},u.a.createElement(I.a,{linking:n.linking,theme:m},u.a.createElement(q.Navigator,{screenOptions:{header:r},initialRouteName:n.initialRouteName},null==(t=n.screens)?void 0:t.map((function(e,t){return u.a.createElement(q.Screen,f()({},e,{key:e.name+t,component:!l&&n.auth.requires.includes(e.name)?n.auth.component:e.component}))})))))}function K(e){var t=e.pageProps,n=void 0===t?{}:t,r=e.navigation,a=e.header,o=Object(c.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.domain,r=void 0===n?"_":n,a=t.locale,o=void 0===a?"_":a,i=L(r)||H(r,o);if(e){var l=i.cache.extract(),c=Y(e,l);i.cache.restore(c)}return N[r]||(N[r]=i),i}()}),[n]);return u.a.createElement(_.a,{client:o},u.a.createElement(G,{navigation:r,header:a}))}var X=["UI","navigation"];function J(e){var t=e.UI,n=e.navigation,r=h()(e,X),a=Object(c.useContext)(V),o=a.loading,i=a.error,l=a.data,d=(void 0===l?{}:l).user,m=void 0===d?{}:d;return u.a.createElement(t,f()({},r,{navigation:n,loading:o,error:i,user:m}))}var Z=n(922);function Q(e){var t=e.loading,n=(e.error,e.user);return t?u.a.createElement(d.Text,null):n?u.a.createElement(Z.a,{to:{screen:"users",params:{id:n.id}}},u.a.createElement(d.Button,{rounded:8,bgColor:"gray.100",p:"2",px:"3",_text:{color:"gray.400",fontWeight:"600"}},n.name)):u.a.createElement(d.Text,null)}function ee(e){return u.a.createElement(J,f()({},e,{UI:Q}))}var te,ne,re=n(230),ae=n(914),oe=Object(O.a)(te||(te=C()(["\n  mutation($phone: String, $password: String) {\n    user: authenticateUserWithPassword(phone: $phone, password: $password) {\n      token\n      item {\n        phone\n        name\n      }\n    }\n  }\n"])));function ie(e){var t=e.UI,n=e.navigation,r=Object(re.a)(),a=Object(c.useContext)(V).refetch,i=Object(ae.a)(oe,{onCompleted:function(e){var t,o;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.user,o=(void 0===t?{}:t).token,i.prev=2,i.next=5,l.a.awrap(S.a.setItem("@token",o));case 5:i.next=10;break;case 7:i.prev=7,i.t0=i.catch(2),console.log("User SignIn Error",i.t0);case 10:return i.prev=10,i.next=13,l.a.awrap(r.clearStore());case 13:return i.next=15,l.a.awrap(r.resetStore());case 15:if(!a){i.next=18;break}return i.next=18,l.a.awrap(a());case 18:return console.log('navigation.navigate("home")'),i.next=21,l.a.awrap(n.navigate("home"));case 21:return i.finish(10);case 22:case"end":return i.stop()}}),null,null,[[2,7,10,22]],Promise)},onError:function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.awrap(S.a.removeItem("@token"));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,e.next=10,l.a.awrap(r.clearStore());case 10:return e.next=12,l.a.awrap(r.resetStore());case 12:return e.finish(7);case 13:case"end":return e.stop()}}),null,null,[[0,5,7,13]],Promise)}}),d=o()(i,2),m=d[0],s=d[1],p=void 0===s?{}:s,g=p.loading,f=p.error,x=p.data,h=(void 0===x?{}:x).user;return u.a.createElement(t,{signIn:function(e){var t=e.phone,n=e.password;return m({variables:{phone:t,password:n}})},loading:g,error:f,user:h})}function le(e){var t=e.signIn,n=e.loading,r=e.error,a=(e.user,e.navigation,Object(c.useRef)()),i=Object(c.useRef)(),l=Object(c.useState)(null),m=o()(l,2),s=m[0],p=m[1];return u.a.createElement(c.Fragment,null,u.a.createElement(d.Box,{maxW:"370px",w:"full",mx:"auto",mt:"100px"},u.a.createElement(d.Image,{source:{uri:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632635691/favicon_gc42jc.svg"},alt:"Odanang logo",size:"70px",mx:"auto"}),u.a.createElement(d.Heading,{my:"20px",textAlign:"center",fontSize:["20px","24px"]},"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c"),u.a.createElement(d.Box,{px:"18px",py:"30px",rounded:"10px",borderWidth:"1px",borderColor:"gray.100",bg:"gray.50"},u.a.createElement(d.VStack,{space:"12px"},u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),u.a.createElement(d.Input,{ref:a,name:"phone",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,null,"M\u1eadt kh\u1ea9u"),u.a.createElement(d.Input,{ref:i,name:"password",type:"password",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),!n&&u.a.createElement(d.Button,{onPress:function(){p(null);var e=a.current.value,r=i.current.value;!e.trim()||10!==e.length&&11!==e.length||isNaN(e)?p("Ki\u1ec3m tra l\u1ea1i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"):r.trim().length<8?p("\u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u \xedt nh\u1ea5t 8 k\xed t\u1ef1"):n||t({phone:e,password:r})},rounded:"8px",bgColor:"green.500",p:"8px",_text:{color:"white",fontWeight:"600"}},"\u0110\u0102NG NH\u1eacP"),n&&u.a.createElement(d.Button,{rounded:"8px",bgColor:"green.500",p:"8px",_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),u.a.createElement(d.Box,{mt:"12px",p:"14px",rounded:"10px",borderWidth:"1",borderColor:"gray.100"},u.a.createElement(d.HStack,{justifyContent:"center"},u.a.createElement(d.Text,null,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? "),u.a.createElement(Z.a,{to:{screen:"signup"}},u.a.createElement(d.Text,{color:"green.500",textDecoration:"none"},"T\u1ea1o t\xe0i kho\u1ea3n")))),r&&u.a.createElement(d.Box,{mt:"12px",p:"14px",rounded:"10px",borderWidth:"1px",borderColor:"red.500"},u.a.createElement(d.Text,{textAlign:"center",color:"red.500"},"Sai s\u1ed1 \u0111i\u1ec7n tho\u1ea1i ho\u1eb7c m\u1eadt kh\u1ea9u")),s&&u.a.createElement(d.Box,{mt:"12px",p:"12px",rounded:"10px",borderWidth:"1px",borderColor:"red.500"},u.a.createElement(d.Text,{textAlign:"center",color:"red.500"},s))))}function ce(e){return u.a.createElement(ie,f()({},e,{UI:le}))}var ue,de=Object(O.a)(ne||(ne=C()(["\n  mutation($data: UserCreateInput) {\n    user: createUser(data: $data) {\n      id\n    }\n  }\n"])));function me(e){var t=e.UI,n=e.navigation,r=Object(ae.a)(de,{onCompleted:function(e){e.user;n.navigate("home")},onError:function(e){console.log("onError",e)}}),a=o()(r,2),i=a[0],l=a[1],c=l.loading,d=l.error,m=l.data,s=(void 0===m?{}:m).user;return u.a.createElement(t,{on:i,loading:c,error:d,user:s})}function se(e){var t=e.loading,n=e.error,r=(e.user,e.navigation,e.on),a=Object(c.useRef)(),i=Object(c.useRef)(),l=Object(c.useRef)(),m=Object(c.useState)("male"),s=o()(m,2),p=s[0],g=s[1],f=Object(c.useState)(null),x=o()(f,2),h=x[0],v=x[1];return u.a.createElement(c.Fragment,null,u.a.createElement(d.Box,{maxW:"370px",w:"full",mx:"auto",mt:"100px"},u.a.createElement(d.Image,{source:{uri:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632635691/favicon_gc42jc.svg"},alt:"Odanang logo",size:"70px",mx:"auto"}),u.a.createElement(d.Heading,{my:"20px",textAlign:"center",fontSize:["20px","24px"]},"T\u1ea1o t\xe0i kho\u1ea3n m\u1edbi"),u.a.createElement(d.Box,{px:"18px",py:"30px",rounded:"10px",borderWidth:"1px",borderColor:"gray.100",bg:"gray.50"},u.a.createElement(d.VStack,{space:"12px"},u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),u.a.createElement(d.Input,{ref:i,name:"phone",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,null,"H\u1ecd v\xe0 t\xean"),u.a.createElement(d.Input,{ref:a,name:"username",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,null,"M\u1eadt kh\u1ea9u"),u.a.createElement(d.Input,{ref:l,name:"password",type:"password",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,{mb:"8px"},u.a.createElement(d.FormControl.Label,null,"Gi\u1edbi t\xednh"),u.a.createElement(d.Radio.Group,{name:"sex",accessibilityLabel:"sex",value:p,onChange:function(e){g(e)}},u.a.createElement(d.HStack,{space:"32px"},u.a.createElement(d.Radio,{colorScheme:"green",size:"sm",value:"male",borderWidth:"1px",borderColor:"gray.300"},u.a.createElement(d.Text,{fontSize:"13px",ml:"6px"},"Nam")),u.a.createElement(d.Radio,{borderWidth:"1px",borderColor:"gray.300",colorScheme:"green",size:"sm",value:"female"},u.a.createElement(d.Text,{fontSize:"13px",ml:"6px"},"N\u1eef")),u.a.createElement(d.Radio,{borderWidth:"1px",borderColor:"gray.300",colorScheme:"green",size:"sm",value:"other"},u.a.createElement(d.Text,{fontSize:"13px",ml:"6px"},"Kh\xe1c"))))),!t&&u.a.createElement(d.Button,{onPress:function(){v(null);var e=a.current.value,n=i.current.value,o=l.current.value;!n.trim()||10!==n.length&&11!==n.length||isNaN(n)?v("Ki\u1ec3m tra l\u1ea1i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"):e.trim()&&isNaN(e)&&e.includes(" ")?o.trim().length<8?v("\u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u \xedt nh\u1ea5t 8 k\xed t\u1ef1"):(console.log(e,n,o,p),t||r({variables:{data:{name:e,phone:n,password:o}}})):v("Ki\u1ec3m tra l\u1ea1i h\u1ecd v\xe0 t\xean")},rounded:"8px",bgColor:"green.500",p:"8px",_text:{color:"white",fontWeight:"600"}},"T\u1ea0O T\xc0I KHO\u1ea2N"),t&&u.a.createElement(d.Button,{rounded:"8px",bgColor:"green.500",p:"8px",_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),u.a.createElement(d.Box,{mt:"12px",p:"14px",rounded:"10px",borderWidth:"1",borderColor:"gray.100"},u.a.createElement(d.HStack,{justifyContent:"center"},u.a.createElement(d.Text,null,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? "),u.a.createElement(Z.a,{to:{screen:"home"}},u.a.createElement(d.Text,{color:"green.500",textDecoration:"none"},"\u0110\u0103ng nh\u1eadp ngay")))),n&&u.a.createElement(d.Box,{mt:"12px",p:"14px",rounded:"10px",borderWidth:"1px",borderColor:"red.500"},u.a.createElement(d.Text,{textAlign:"center",color:"red.500"},"Vui l\xf2ng s\u1eed d\u1ee5ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xe1c")),h&&u.a.createElement(d.Box,{mt:"12px",p:"12px",rounded:"10px",borderWidth:"1px",borderColor:"red.500"},u.a.createElement(d.Text,{textAlign:"center",color:"red.500"},h))))}function pe(e){return u.a.createElement(me,f()({},e,{UI:se}))}var ge=Object(O.a)(ue||(ue=C()(["\n  mutation {\n    status: unauthenticateUser {\n      success\n    }\n  }\n"])));function fe(e){var t=e.UI,n=e.navigation,r=Object(re.a)(),a=Object(c.useContext)(V),i=Object(ae.a)(ge,{onCompleted:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.status,t.next=3,l.a.awrap(r.clearStore());case 3:return t.next=5,l.a.awrap(r.resetStore());case 5:n.navigate("home");case 6:case"end":return t.stop()}}),null,null,null,Promise)},onError:function(e){}}),d=o()(i,2),m=d[0],s=d[1],p=void 0===s?{}:s,g=p.loading,f=p.error,x=p.data,h=(void 0===x?{}:x).status;return u.a.createElement(t,{signOut:m,loading:g,error:f,status:h,auth:a})}var xe=n(400);function he(e){var t=e.loading,n=(e.error,e.signOut);e.navigation,e.auth;return t?u.a.createElement(d.Text,null):u.a.createElement(d.Button,{onPress:function(e){n()},bgColor:"white",_text:{color:"gray.900"},leftIcon:u.a.createElement(xe.a,{color:"#22c55e"})},u.a.createElement(d.Text,null,"\u0110\u0103ng xu\u1ea5t"))}function ve(e){return u.a.createElement(fe,f()({},e,{UI:he}))}var be,Ee,ye,we=n(42),Ce=n(27),Se=n(915),Be=n(129),Ie=["UI","first","where"],Oe=Object(O.a)(be||(be=C()(["\n  query($first: Int, $where: UserWhereInput) {\n    _allUsersMeta(where: $where) {\n      count\n    }\n    allUsers(first: $first, where: { isAdmin: true } ) {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n  }\n"])));function ke(e){var t=e.UI,n=e.first,r=void 0===n?4:n,a=e.where,i=h()(e,Ie),l=Object(j.a)(Oe,{variables:{first:r,where:a}}),c=l.loading,d=l.error,m=l.data,s=void 0===m?{}:m,p=l.refetch,g=s.allUsers,x=void 0===g?[]:g,v=s._allUsersMeta,b=void 0===v?{}:v,E=o()(x,1)[0],y=void 0===E?{}:E,w=b.count;return u.a.createElement(t,f()({},i,{loading:c,error:d,allUsers:x,user:y,count:w,refetch:p}))}var je=Object(O.a)(Ee||(Ee=C()(["\n  query($id: ID!) {\n    User(where: { id: $id }) {\n      id\n      phone\n      name\n      description\n      avatar {\n        publicUrl\n      }\n      description\n    }\n    allPosts(where: { createdBy: { id: $id } }) {\n      id\n    }\n    _allRelationshipsMeta(\n      where: {\n        OR: [\n          { OR: { to: { id: $id }, isAccepted: true } }\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n        ]\n      }\n    ) {\n      count\n    }\n  }\n"]))),We=Object(O.a)(ye||(ye=C()(["\n  query($id: ID!, $my_id: ID!) {\n    User(where: { id: $id }) {\n      id\n      phone\n      name\n      description\n      avatar {\n        publicUrl\n      }\n      description\n    }\n    allPosts(where: { createdBy: { id: $id } }) {\n      id\n    }\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $my_id }, to: { id: $id } } }\n          { OR: { createdBy: { id: $id }, to: { id: $my_id } } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n      }\n      to {\n        id\n      }\n    }\n    _allRelationshipsMeta(\n      where: {\n        OR: [\n          { OR: { to: { id: $id }, isAccepted: true } }\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n        ]\n      }\n    ) {\n      count\n    }\n  }\n"]))),Ue=Object(Be.c)((function(){}));function _e(e){var t=e.UI,n=e.where,r=e.id,a=e.my_id,i=e.existing;if(i)return u.a.createElement(t,i);var l,c=Object(j.a)(r&&a?We:r?je:Oe,{variables:r&&a?{id:r,my_id:a}:r?{id:r}:{where:n}}),d=c.loading,m=c.error,s=c.data,p=void 0===s?{}:s,g=c.refetch,f=p.allUsers,x=p.User,h=f||[x],v=o()(h,1)[0],b=p.allPosts,E=void 0===b?[]:b,y=p.allRelationships,w=void 0===y?[]:y,C=p._allRelationshipsMeta,S=(void 0===C?{}:C).count;return l=0===w.length?null:w[0],g&&Ue(g),u.a.createElement(t,{count:S,loading:d,error:m,user:v,posts:E,relationship:l})}var ze,Te,$e=["UI","id"],Pe=Object(O.a)(ze||(ze=C()(["\n  query($id: ID!) {\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n          { OR: { createdBy: { id: $id }, isAccepted: false } }\n          { OR: { to: { id: $id }, isAccepted: true } }\n          { OR: { to: { id: $id }, isAccepted: false } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n    _allUsersMeta {\n      count\n    }\n    allUsers {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n  }\n"]))),Re=Object(Be.c)((function(){}));function Ae(e){var t=e.UI,n=e.id,r=h()(e,$e),a=Object(j.a)(Pe,{variables:{id:n}}),i=a.loading,l=a.error,c=a.data,d=void 0===c?{}:c,m=a.refetch,s=d.allUsers,p=void 0===s?[]:s,g=d._allUsersMeta,x=void 0===g?{}:g,v=o()(p,1)[0],b=void 0===v?{}:v,E=x.count,y=d.allRelationships,w=[];(void 0===y?[]:y).map((function(e){var t,r;(null==e||null==(t=e.createdBy)?void 0:t.id)===n&&w.push(null==e?void 0:e.to),(null==e||null==(r=e.to)?void 0:r.id)===n&&w.push(null==e?void 0:e.createdBy)}));var C;return C=p.filter((function(e){return!w.find((function(t){return t.id===e.id||e.id===n}))})),m&&Re(m),u.a.createElement(t,f()({},r,{loading:i,error:l,friendsSuggest:C,user:b,count:E}))}var De=Object(O.a)(Te||(Te=C()(["\n  mutation($data: RelationshipCreateInput) {\n    createRelationship(data: $data) {\n      id\n      to {\n        id\n        name\n      }\n      createdBy {\n        id\n        name\n      }\n      isAccepted\n    }\n  }\n"])));function Me(e){var t=e.UI,n=e.toId,r=e.page,a=Object(Se.a)(Ue),i=Object(Se.a)(Re),l=Object(ae.a)(De,{onCompleted:function(e){"SF"===r?i():a()}}),c=o()(l,2),d=c[0],m=c[1],s=m.loading,p=m.error,g=m.data,f=(void 0===g?{}:g).createRelationship;return u.a.createElement(t,{page:r,loading:s,error:p,clickAddFriend:function(){d({variables:{data:{to:{connect:{id:n}},isAccepted:!1}}})},createRelationship:f})}function Fe(e){e.error,e.loading;var t=e.clickAddFriend;return u.a.createElement(d.Button,{_text:{color:"white",fontSize:["13","14"],fontWeight:"600"},p:"8px",rounded:"8px",w:"full",bgColor:"green.500",onPress:function(e){t()}},"web"!==Ce.a.OS?u.a.createElement(we.a,{style:{fontWeight:"500",color:"white",padding:2,fontFamily:"Lexend_500Medium"}},"Th\xeam b\u1ea1n b\xe8"):"Th\xeam b\u1ea1n b\xe8")}function He(e){return u.a.createElement(Me,f()({},e,{UI:Fe}))}var Ne,Le,Ye=["UI","where","id"],Ve=Object(O.a)(Ne||(Ne=C()(["\n  query($id: ID!) {\n    allRelationships(where: { to: { id: $id }, isAccepted: false }) {\n      id\n      isAccepted\n      createdBy {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"]))),qe=Object(Be.c)((function(){}));function Ge(e){var t=e.UI,n=(e.where,e.id),r=h()(e,Ye),a=Object(j.a)(Ve,{variables:{id:n}}),o=a.loading,i=a.error,l=a.data,c=void 0===l?{}:l,d=a.refetch,m=c.allRelationships,s=void 0===m?[]:m,p=[];return s.map((function(e){p.push(null==e?void 0:e.createdBy)})),d&&qe(d),u.a.createElement(t,f()({},r,{loading:o,error:i,allUsers:p,refetch:d,allRelationships:s}))}var Ke,Xe=Object(O.a)(Le||(Le=C()(["\n  mutation($id: ID!, $data: RelationshipUpdateInput) {\n    updateRelationship(id: $id, data: $data) {\n      id\n      to {\n        id\n        name\n      }\n      createdBy {\n        id\n        name\n      }\n      isAccepted\n    }\n  }\n"])));function Je(e){var t=e.UI,n=e.children,r=e.relationship,a=e.id,i=e.page,l=Object(Se.a)(Ue),c=Object(Se.a)(qe),d=Object(ae.a)(Xe,{onCompleted:function(e){"FR"==i?c():l()}}),m=o()(d,2),s=m[0],p=m[1],g=p.loading,f=p.error,x=p.data;(void 0===x?{}:x).updateRelationship;return u.a.createElement(t,{loading:g,error:f,clickAgree:function(){s({variables:{id:a,data:{isAccepted:!0}}})}})||n({relationship:r,on:s,relationshipUpdated:relationshipUpdated})}function Ze(e){e.error;var t=e.loading,n=e.clickAgree;return u.a.createElement(d.Button,{_text:{color:"white",fontSize:["13","14"],fontWeight:"600"},p:"8px",rounded:"8px",w:"full",bgColor:"green.500",onPress:function(e){t||n()}},"web"!==Ce.a.OS?u.a.createElement(we.a,{style:{fontWeight:"500",fontFamily:"Lexend_500Medium",color:"white",padding:2}},"\u0110\u1ed3ng \xfd k\u1ebft b\u1ea1n"):"\u0110\u1ed3ng \xfd k\u1ebft b\u1ea1n")}function Qe(e){return u.a.createElement(Je,f()({},e,{UI:Ze}))}var et=Object(O.a)(Ke||(Ke=C()(["\n  mutation($id: ID!) {\n    deleteRelationship(id: $id) {\n      id\n      isAccepted\n    }\n  }\n"])));function tt(e){var t=e.UI,n=e.id,r=e.page,a=Object(Se.a)(Ue),i=Object(Se.a)(qe),l=Object(ae.a)(et,{onCompleted:function(e){"FR"==r?i():a()}}),c=o()(l,2),d=c[0],m=c[1],s=m.loading,p=m.error,g=m.data,f=(void 0===g?{}:g).deleteRelationship;return u.a.createElement(t,{loading:s,error:p,clickDetete:function(){d({variables:{id:n}})},relationship:f,id:n})}function nt(e){e.error;var t=e.loading,n=e.clickDetete;return u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:["13","14"],fontWeight:"600"},p:"8px",rounded:"8px",w:"full",bgColor:"gray.100",onPress:function(e){confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 hem?")&&!t&&n()}},"Xo\xe1 b\u1ea1n b\xe8")}function rt(e){return u.a.createElement(tt,f()({},e,{UI:nt}))}function at(e){e.error;var t=e.loading,n=e.clickDetete;e.id;return u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:["13","14"],fontWeight:"600"},p:"8px",rounded:"8px",w:"full",bgColor:"gray.100",onPress:function(e){confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 hem?")&&!t&&n()}},"web"!==Ce.a.OS?u.a.createElement(we.a,{style:{fontWeight:"500",fontFamily:"Lexend_500Medium",color:"#a1a1aa",padding:2}},"Xo\xe1 l\u1eddi m\u1eddi"):"Xo\xe1 l\u1eddi m\u1eddi")}function ot(e){return u.a.createElement(tt,f()({},e,{UI:at}))}function it(e){e.loading,e.error;var t=e.friendsSuggest,n=void 0===t?[]:t;e.count,e.refetch;return o()(n,1)[0]?u.a.createElement(d.VStack,{w:"100%"},u.a.createElement(d.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},u.a.createElement(d.Text,{fontSize:"18px",fontWeight:"600",color:"gray.700"},"Nh\u1eefng ng\u01b0\u1eddi b\u1ea1n c\xf3 th\u1ec3 bi\u1ebft")),u.a.createElement(d.HStack,{maxW:"100%",mx:"auto",w:"100%",flexWrap:"wrap",justifyContent:"flex-start"},n.map((function(e){var t;return u.a.createElement(d.VStack,{key:e.id,p:"12px",minW:["49%","32%","24%"],m:"0.5%",space:["4px","6px"],alignItems:"center",borderWidth:"1px",borderColor:"gray.100",rounded:"8px"},u.a.createElement(d.Box,null,u.a.createElement(Z.a,{to:{screen:"users",params:{id:e.id}}},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==e||null==(t=e.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:e.name,size:"80px",mx:"auto",mt:"8px",rounded:"100"}))),u.a.createElement(Z.a,{to:{screen:"users",params:{id:e.id}}},u.a.createElement(d.Box,{my:"1"},u.a.createElement(d.Text,{fontWeight:"600",color:"gray.700"},e.name))),u.a.createElement(He,{toId:e.id,page:"SF"}))})))):u.a.createElement(d.VStack,{w:"100%"},u.a.createElement(d.Text,{textAlign:"center",fontSize:"18px",fontWeight:"600",color:"gray.700",mt:"40px"},"B\u1ea1n kh\xf4ng c\xf3 g\u1ee3i \xfd k\u1ebft b\u1ea1n n\xe0o"))}function lt(e){return u.a.createElement(Ae,f()({},e,{UI:it}))}function ct(e){var t=e.count;return u.a.createElement(d.Text,{fontSize:"inherit",fontWeight:"inherit"},t)}function ut(e){return u.a.createElement(ke,f()({},e,{UI:ct}))}var dt,mt,st,pt=["UI","where","id"],gt=Object(O.a)(dt||(dt=C()(["\n  query($id: ID!) {\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n          { OR: { to: { id: $id }, isAccepted: true } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function ft(e){var t=e.UI,n=(e.where,e.id),r=h()(e,pt),a=Object(j.a)(gt,{variables:{id:n}}),o=a.loading,i=a.error,l=a.data,c=void 0===l?{}:l,d=a.refetch,m=c.allRelationships,s=[];return(void 0===m?[]:m).map((function(e){var t,r;(null==e||null==(t=e.createdBy)?void 0:t.id)===n&&s.push(null==e?void 0:e.to),(null==e||null==(r=e.to)?void 0:r.id)===n&&s.push(null==e?void 0:e.createdBy)})),u.a.createElement(t,f()({},r,{loading:o,error:i,allUsers:s,refetch:d}))}function xt(e){e.loading,e.error;var t=e.allUsers;return o()(t,1)[0]?u.a.createElement(d.VStack,{w:"100%"},u.a.createElement(d.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},u.a.createElement(d.Text,{fontSize:"18px",fontWeight:"600",color:"gray.700"},"T\u1ea5t c\u1ea3 b\u1ea1n b\xe8")),u.a.createElement(d.HStack,{maxW:"full",mx:"auto",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},t.map((function(e){var t;return u.a.createElement(d.VStack,{key:e.id,p:"12px",minW:["49%","32%","24%"],m:"0.5%",space:["4px","6px"],alignItems:"center",borderWidth:"1px",borderColor:"gray.100",rounded:"8px"},u.a.createElement(d.Box,null,u.a.createElement(Z.a,{to:{screen:"users",params:{id:null==e?void 0:e.id}}},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==e||null==(t=e.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:null==e?void 0:e.name,size:"80px",mx:"auto",mt:"8px",rounded:"100"}))),u.a.createElement(Z.a,{to:{screen:"users",params:{id:null==e?void 0:e.id}}},u.a.createElement(d.Box,{my:"1"},u.a.createElement(d.Text,{color:"gray.700",fontWeight:"600"},e.name))),u.a.createElement(rt,{toId:e.id,page:"SF"}))})))):u.a.createElement(d.VStack,{w:"100%"},u.a.createElement(d.Text,{textAlign:"center",fontSize:"18px",fontWeight:"600",color:"gray.700",mt:"40px"},"B\u1ea1n kh\xf4ng c\xf3 b\u1ea1n b\xe8 n\xe0o"))}function ht(e){return u.a.createElement(ft,f()({},e,{UI:xt}))}var vt=Object(O.a)(mt||(mt=C()(["\n  query($keyword: String) {\n    allUsers(\n      where: {\n        OR: [\n          { OR: { name_contains_i: $keyword } }\n          { OR: { phone_contains: $keyword } }\n        ]\n      }\n    ) {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n  }\n"])));Object(O.a)(st||(st=C()(["\n  query($my_id: ID!, $id: ID!) {\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $my_id }, to: { id: $id } } }\n          { OR: { createdBy: { id: $id }, to: { id: $my_id } } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n      }\n      to {\n        id\n      }\n    }\n  }\n"])));function bt(e){var t=e.UI,n=e.keyword,r=(e.my_id,Object(j.a)(vt,{variables:{keyword:n}})),a=r.loading,o=r.error,i=r.data,l=(void 0===i?{}:i).allUsers,c=void 0===l?[]:l;return u.a.createElement(t,{loading:a,error:o,allUsers:c})}function Et(e){e.loading,e.error;var t=e.allUsers,n=void 0===t?[]:t;return o()(n,1)[0]?u.a.createElement(d.VStack,null,u.a.createElement(d.HStack,{maxw:"full",mx:"auto",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},n.map((function(e){var t;return u.a.createElement(d.HStack,{key:e.id,p:["3","4"],pl:["2","4"],minW:["100%","99%"],m:["0","0.5%"],my:"1",space:["0","1.5"],alignItems:"center",borderWidth:"1",borderColor:"gray.100",rounded:["0","xl"],justifyContent:"space-between"},u.a.createElement(d.HStack,{alignItems:"center",space:["3","4"]},u.a.createElement(Z.a,{to:{screen:"users",params:{id:e.id}}},u.a.createElement(d.Box,null,u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==e||null==(t=e.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Profile Image",size:["48px","72px"],mx:"auto",my:["2.5","1.5"],rounded:"100"}))),u.a.createElement(Z.a,{to:{screen:"users",params:{id:e.id}}},u.a.createElement(d.Text,{my:"2",fontWeight:"600"},e.name))),u.a.createElement(d.VStack,{space:"1.5"},u.a.createElement(d.Box,{w:"120px"},u.a.createElement(Qe,null)),u.a.createElement(d.Box,{w:"120px"},u.a.createElement(ot,null))))})))):u.a.createElement(d.VStack,{w:"100%"},u.a.createElement(d.Text,{textAlign:"center",fontSize:"18px",fontWeight:"600",color:"gray.700",mt:"40px"},"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"))}function yt(e){return u.a.createElement(bt,f()({},e,{UI:Et}))}var wt,Ct=["UI","id"],St=Object(O.a)(wt||(wt=C()(["\n  query($id: ID!) {\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n          { OR: { createdBy: { id: $id }, isAccepted: false } }\n          { OR: { to: { id: $id }, isAccepted: true } }\n          { OR: { to: { id: $id }, isAccepted: false } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n    _allUsersMeta {\n      count\n    }\n    allUsers {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n  }\n"])));function Bt(e){var t=e.UI,n=e.id,r=h()(e,Ct),a=Object(j.a)(St,{variables:{id:n}}),i=a.loading,l=a.error,c=a.data,d=void 0===c?{}:c,m=a.refetch,s=d.allUsers,p=void 0===s?[]:s,g=d._allUsersMeta,x=void 0===g?{}:g,v=o()(p,1)[0],b=void 0===v?{}:v,E=x.count,y=d.allRelationships,w=[];(void 0===y?[]:y).map((function(e){var t,r;(null==e||null==(t=e.createdBy)?void 0:t.id)===n&&w.push(null==e?void 0:e.to),(null==e||null==(r=e.to)?void 0:r.id)===n&&w.push(null==e?void 0:e.createdBy)}));var C=[];return C=(C=p.filter((function(e){return!w.find((function(t){return t.id===e.id||e.id===n}))}))).slice(0,4),u.a.createElement(t,f()({},r,{loading:i,error:l,friendsSuggest:C,user:b,count:E,refetch:m}))}function It(e){var t=e.friendsSuggest;return u.a.createElement(d.VStack,{my:"2",w:"full"},u.a.createElement(d.HStack,{mb:"2",w:"full"},u.a.createElement(d.Text,{fontSize:"16",fontWeight:"600",color:"gray.400"},"G\u1ee3i \xfd cho b\u1ea1n"),u.a.createElement(d.Spacer,null),u.a.createElement(Z.a,{to:{screen:"friendsuggestion"}},u.a.createElement(d.Text,{color:"green.500"},"Xem th\xeam"))),null==t?void 0:t.map((function(e){return u.a.createElement(d.HStack,{key:e.id,m:"1",mt:"3",flex:"1",maxw:"full",w:"260px",alignItems:"center",rounded:"8",space:"4"},u.a.createElement(d.Box,null,u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+(null!=e&&e.avatar?e.avatar.publicUrl:"/upload/img/no-image.png")},alt:"img",size:"8",mx:"auto",rounded:"100"})),u.a.createElement(Z.a,{to:{screen:"users",params:{id:e.id}}},u.a.createElement(d.Text,{fontWeight:"600",color:"gray.700"},e.name)))})))}function Ot(e){return u.a.createElement(Bt,f()({},e,{UI:It}))}function kt(e){e.loading,e.error;var t=e.allRelationships;return o()(t,1)[0]?u.a.createElement(d.VStack,{w:"100%"},u.a.createElement(d.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},u.a.createElement(d.Text,{fontSize:"18px",fontWeight:"600",color:"gray.700"},"L\u1eddi m\u1eddi k\u1ebft b\u1ea1n")),u.a.createElement(d.HStack,{maxW:"full",mx:"auto",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},t.map((function(e){var t,n,r;return u.a.createElement(d.VStack,{key:e.id,p:"12px",minW:["49%","32%","24%"],m:"0.5%",space:["4px","6px"],alignItems:"center",borderWidth:"1px",borderColor:"gray.100",rounded:"8px"},u.a.createElement(d.Box,null,u.a.createElement(Z.a,{to:"/"},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==e||null==(t=e.createdBy)||null==(n=t.avatar)?void 0:n.publicUrl)||"/upload/img/no-image.png")},alt:"Profile Image",size:"80px",mx:"auto",mt:"8px",rounded:"100"}))),u.a.createElement(Z.a,{to:"/"},u.a.createElement(d.Box,{my:"1"},u.a.createElement(d.Text,{fontWeight:"600",color:"gray.700"},null==e||null==(r=e.createdBy)?void 0:r.name))),u.a.createElement(Qe,{id:e.id,page:"FR"}),u.a.createElement(ot,{id:e.id,page:"FR"}))})))):u.a.createElement(d.VStack,{w:"100%"},u.a.createElement(d.Text,{textAlign:"center",fontSize:"18px",fontWeight:"600",color:"gray.700",mt:"40px"},"B\u1ea1n kh\xf4ng c\xf3 l\u1eddi m\u1eddi k\u1ebft b\u1ea1n n\xe0o"))}function jt(e){return u.a.createElement(Ge,f()({},e,{UI:kt}))}var Wt=function(e){var t,n,r=e.item;return u.a.createElement(d.Box,{w:"full",position:"relative"},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==r||null==(t=r.images[0])||null==(n=t.file)?void 0:n.publicUrl)||"/upload/img/no-image.png")},alt:"Profile Image",flex:"1",p:"50%"}),u.a.createElement(d.Button,{onPress:function(){console.log(r.id,JSON.stringify(r.images))},position:"absolute",w:"full",h:"100%",bgColor:"transparent"}))},Ut=n(96),_t=n(47);var zt;function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt,Rt=Object(O.a)(zt||(zt=C()(["\n  query (\n    $first: Int\n    $skip: Int\n    $sortBy: [SortPostsBy!]\n    $where: PostWhereInput\n  ) {\n    _allPostsMeta {\n      count\n    }\n    allPosts(first: $first, skip: $skip, sortBy: $sortBy, where: $where) {\n      id\n      content\n      tags {\n        content\n      }\n      images {\n        file {\n          publicUrl\n        }\n      }\n      interactive {\n        id\n      }\n      createdAt\n      createdBy {\n        id\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function At(e){var t=e.UI,n=e.first,r=void 0===n?4:n,a=e.skip,i=e.sortBy,l=void 0===i?"createdAt_DESC":i,d=e.where,m=Object(c.useContext)(V).user,s=Object(j.a)(Rt,{variables:{first:r,where:d,skip:a,sortBy:l,user:{id:m.id}}}),p=s.loading,g=s.error,f=s.data,x=void 0===f?{}:f,h=s.fetchMore,v=(s.refetch,Object(c.useState)(!1)),E=o()(v,2),y=E[0],w=E[1],C=x.allPosts,S=void 0===C?[]:C,B=x._allPostsMeta,I=(void 0===B?{}:B).count,O=void 0===I?0:I;return u.a.createElement(t,{loading:p,error:g,allPosts:S,count:O,loadMore:function(e){p||g||(w(!0),h({variables:{skip:S.length},updateQuery:function(e,t){var n=t.fetchMoreResult;return $t($t({},e),{},{allPosts:[].concat(b()(e.allPosts),b()(n.allPosts))})}}).finally((function(){w(!1)})))},loadingMore:y})}var Dt=Object(O.a)(Pt||(Pt=C()(["\n  query($id: ID!) {\n    allPosts(sortBy: createdAt_DESC, where: { createdBy: { id: $id } }) {\n      id\n      images {\n        file {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function Mt(e){var t=e.UI,n=e.id,r=Object(j.a)(Dt,{variables:{id:n}}),a=r.loading,o=r.error,i=r.data,l=(void 0===i?{}:i).allPosts,c=void 0===l?[]:l;return u.a.createElement(t,{loading:a,error:o,posts:c})}var Ft,Ht=n(50);function Nt(e){var t=e.error,n=e.loading,r=e.posts;return n?u.a.createElement(d.Text,null,"Loading"):t?"error":u.a.createElement(d.HStack,{maxw:"full",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},r.map((function(e){return u.a.createElement(d.Box,{key:e.id,minW:["49%","32%","24%"],m:"0.5%",borderWidth:"1",borderColor:"gray.100",rounded:"10",overflow:"hidden"},u.a.createElement(Z.a,{to:{screen:"posts",params:{id:null==e?void 0:e.id}}},u.a.createElement(Wt,{key:e.id,item:e})))})))}function Lt(e){var t=Object(Ht.o)().params,n=(void 0===t?{}:t).id;return u.a.createElement(Mt,f()({},e,{UI:Nt,id:n}))}var Yt,Vt=Object(O.a)(Ft||(Ft=C()(["\n  mutation($data: InteractiveCommentCreateInput) {\n    createInteractiveComment(data: $data) {\n     id\n     content\n    }\n  }\n"])));function qt(e){var t=e.UI,n=e.interactive,r=e.onCompleted,a=void 0===r?function(){}:r,i=Object(ae.a)(Vt,{onCompleted:function(e){console.log(e),a(e)},onError:function(e){console.log(e)}}),l=o()(i,2),d=l[0],m=l[1],s=m.loading,p=m.error,g=(m.data,Object(c.useContext)(V).user,Object(c.useState)("")),f=o()(g,2),x=f[0],h=f[1];return u.a.createElement(t,{loading:s,error:p,content:x,contentChangeHandle:function(e){h(e.target.value)},userCommentHandle:function(e){e.target.value.trim().length&&(!function(){var e={interactive:{connect:{id:null==n?void 0:n.id}},content:x};console.log(e,n),!s&&n&&d({variables:{data:e}})}(),h(""))},interactive:n})}function Gt(e){var t,n=e.user;return u.a.createElement(d.Link,{to:{screen:"users",params:{id:null==n?void 0:n.id}}},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==n||null==(t=n.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Profile image",size:"8",rounded:"100"}))}function Kt(e){return u.a.createElement(J,f()({},e,{UI:Gt}))}function Xt(e){var t=e.loading,n=e.content,r=e.contentChangeHandle,a=e.userCommentHandle;return t?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(d.Box,{mx:"auto",w:"full"},u.a.createElement(d.HStack,{space:"2",display:"flex",flexDirection:"row",w:"full"},u.a.createElement(Kt,null),u.a.createElement(d.Box,{flex:"1"},u.a.createElement(d.Input,{name:"comment",type:"text",bgColor:"white",p:2,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:"8",_focus:{borderColor:"gray.100"},placeholder:"Vi\u1ebft b\xecnh lu\u1eadn ...",value:n,onChange:r,onSubmitEditing:a}))))}function Jt(e){return u.a.createElement(qt,f()({},e,{UI:Xt}))}function Zt(e){return u.a.createElement(_e,f()({},e,{UI:Gt}))}var Qt,en=Object(O.a)(Yt||(Yt=C()(["\n  mutation($id: ID!) {\n    deleteInteractiveComment(id: $id) {\n      id\n      content\n    }\n  }\n"])));function tn(e){var t=e.UI,n=e.id,r=e.onCompleted,a=void 0===r?function(){}:r,i=Object(ae.a)(en,{onCompleted:function(e){a(e)}}),l=o()(i,2),c=l[0],d=l[1],m=d.loading,s=d.error,p=d.data,g=(void 0===p?{}:p).deleteInteractiveComment;return u.a.createElement(t,{loading:m,error:s,clickDetete:function(){c({variables:{id:n}})},comment:g})}function nn(e){var t=e.loading,n=(e.error,e.comment,e.clickDetete);return t?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",onPress:function(e){n()}},"Xo\xe1")}function rn(e){return u.a.createElement(tn,f()({},e,{UI:nn}))}var an,on=Object(O.a)(Qt||(Qt=C()(["\n  query (\n    $first: Int\n    $skip: Int\n    $where: InteractiveCommentWhereInput\n    $sortBy: [SortInteractiveCommentsBy!]\n  ) {\n    _allInteractiveCommentsMeta(where: $where) {\n      count\n    }\n    allInteractiveComments(\n      first: $first\n      skip: $skip\n      where: $where\n      sortBy: $sortBy\n    ) {\n      id\n      content\n      my_interactive{\n        id\n      }\n    }\n  }\n"])));function ln(e){var t=e.UI,n=e.first,r=void 0===n?5:n,a=e.sortBy,o=void 0===a?"createdAt_DESC":a,i=e.skip,l=e.where,d=e.refetchInteractiveItem,m=e.existing;if(m)return u.a.createElement(t,m);var s=Object(j.a)(on,{variables:{first:r,skip:i,where:l,sortBy:o}}),p=s.loading,g=s.error,f=s.data,x=void 0===f?{}:f,h=(s.refetch,x._allInteractiveCommentsMeta),v=void 0===h?{}:h,b=x.allInteractiveComments,E=v.count;return Object(c.useMemo)((function(){return u.a.createElement(t,{loading:p,error:g,allInteractiveComments:b,count:E,refetchInteractiveItem:d})}),[p,g,x])}var cn=Object(O.a)(an||(an=C()(["\n  query ($id: ID!) {\n    InteractiveComment(where: { id: $id }) {\n      id\n      content\n      createdAt\n      createdBy {\n        name\n        avatar {\n          publicUrl\n        }\n        id\n      }\n      my_interactive {\n        id\n      }\n    }\n  }\n"])));function un(e){var t=n(136),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}function dn(e){var t=e.UI,n=e.id,r=e.where,a=e.existing,i=void 0===a?{}:a;if(i){var l,c=un(null==(l=i.comment)?void 0:l.createdAt);return u.a.createElement(t,f()({},i,{timeAgo:c}))}var d=Object(j.a)(n?cn:on,{variables:n?{id:n}:{where:r}}),m=d.loading,s=d.error,p=d.data,g=void 0===p?{}:p,x=g.allInteractiveComments,h=g.InteractiveComment,v=x||[h],b=o()(v,1)[0],E=un(null==b?void 0:b.createdAt);return u.a.createElement(t,{loading:m,error:s,comment:b,refetchInteractiveItem:refetchInteractiveItem,timeAgo:E})}var mn;var sn,pn=Object(O.a)(mn||(mn=C()(["\n  query(\n    $first: Int\n    $skip: Int\n    $sortBy: [SortInteractiveCommentsBy!]\n    $where: InteractiveWhereInput\n  ) {\n    _allInteractivesMeta(where: $where) {\n      count\n    }\n    allInteractives(where: $where) {\n      id\n      comments(sortBy: $sortBy, first: $first, skip: $skip) {\n        id\n        content\n        createdAt\n        createdBy {\n          id\n          name\n          avatar {\n            publicUrl\n          }\n        }\n        my_interactive {\n          id\n          reactions {\n            id\n            emoji\n            createdBy {\n              id\n            }\n          }\n          _reactionsMeta {\n            count\n          }\n        }\n      }\n      _commentsMeta {\n        count\n      }\n      reactions {\n        id\n        emoji\n        createdBy {\n          name\n          avatar {\n            publicUrl\n          }\n        }\n      }\n    }\n  }\n"])));function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xn,hn=Object(O.a)(sn||(sn=C()(["\n  query(\n    $id: ID!\n    $sortBy: [SortInteractiveCommentsBy!]\n    $first: Int\n    $skip: Int\n  ) {\n    Interactive(where:{id: $id}) {\n      id\n      comments(sortBy: $sortBy, first: $first, skip: $skip) {\n        id\n        content\n        createdAt\n        createdBy {\n          id\n          name\n          avatar {\n            publicUrl\n          }\n        }\n        interactive {\n          id\n          _commentsMeta {\n            count\n          }\n        }\n        my_interactive{\n          id\n        }\n      }\n      _commentsMeta {\n        count\n      }\n      reactions {\n        id\n        emoji\n        createdBy {\n          name\n          avatar {\n            publicUrl\n          }\n        }\n      }\n      _reactionsMeta {\n        count\n      }\n      createdAt\n    }\n    user: authenticatedUser {\n      id\n      phone\n      name\n      email\n      avatar {\n        publicUrl\n      }\n      gender\n      description\n    }\n  }\n"])));function vn(e){var t=e.UI,r=e.id,a=e.where,o=e.sortBy,i=e.first,l=void 0===i?3:i,c=e.skip,d=Object(j.a)(r?hn:pn,{variables:r?{id:r,sortBy:o,first:l}:{where:a,sortBy:o,first:l,skip:c}}),m=d.loading,s=d.error,p=d.data,g=void 0===p?{}:p,f=d.fetchMore,x=d.refetch,h=g.Interactive,v=void 0===h?{}:h,E=g.user,y=void 0===E?{}:E,w=function(e){var t=n(136),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}(null==v?void 0:v.createdAt);return u.a.createElement(t,{loading:m,error:s,interactive:v,user:y,refetch:x,loadMore:function(e){m||s||f({variables:{skip:v.comments.length},updateQuery:function(e,t){var n=t.fetchMoreResult,r=e.Interactive.comments,a=void 0===r?[]:r,o=n.Interactive.comments,i=void 0===o?[]:o;return fn(fn({},e),{},{Interactive:fn(fn({},e.Interactive),{},{comments:[].concat(b()(a),b()(i))})})}}).finally((function(){}))},timeAgo:w})}var bn,En=Object(O.a)(xn||(xn=C()(["\n  mutation($id: ID!) {\n    deleteInteractiveReaction(id: $id) {\n      id\n      emoji\n    }\n  }\n"])));var yn,wn=Object(O.a)(bn||(bn=C()(["\n  query($where: InteractiveReactionWhereInput) {\n    _allInteractiveReactionsMeta(where: $where) {\n      count\n    }\n    allInteractiveReactions(where: $where) {\n      id\n      emoji\n    }\n  }\n"])));function Cn(e){var t=e.UI,n=e.where,r=e.existing;if(r)return u.a.createElement(t,r);var a=Object(j.a)(wn,{variables:{where:n}}),o=a.loading,i=a.error,l=a.data,c=void 0===l?{}:l,d=(a.refetch,c.allInteractiveReactions),m=void 0===d?[]:d,s=c._allInteractiveReactionsMeta,p=(void 0===s?{}:s).count,g=void 0===p?0:p;return u.a.createElement(t,{loading:o,error:i,allInteractiveReactions:m,count:g})}var Sn=Object(O.a)(yn||(yn=C()(["\n  mutation($data: InteractiveReactionCreateInput) {\n    createInteractiveReaction(data: $data) {\n      id\n    }\n  }\n"])));function Bn(e){var t=e.UI,n=e.interactive,r=void 0===n?{}:n,a=e.onCompleted,i=void 0===a?function(){}:a,l=e.onError,m=void 0===l?function(){}:l,s=Object(c.useContext)(V).user;if(!s)return u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i");var p=Object(j.a)(wn,{variables:{where:{createdBy:{id:s.id},interactive:{id:r.id}}}}),g=p.loading,f=(p.error,p.data),x=void 0===f?{}:f,h=p.refetch,v=x._allInteractiveReactionsMeta,b=void 0===v?{}:v,E=x.allInteractiveReactions,y=void 0===E?[]:E,w=b.count||0,C=Object(ae.a)(Sn,{onCompleted:function(e){h(),i(e)},onError:function(e){h(),m(e)}}),S=o()(C,2),B=S[0],I=S[1],O=Object(ae.a)(En,{onCompleted:function(e){h(),i(e)},onError:function(e){h(),m(e)}}),k=o()(O,2),W=k[0],U=k[1];return u.a.createElement(t,{loading:g,interactive:r,handleClick:function(e){g||(w?y.map((function(e){W({variables:{id:e.id}})})):r&&B({variables:{data:{interactive:{connect:{id:r.id}},emoji:"like"}}}))},createResult:I,deleteResult:U,reacted:w})}function In(e){e.interactive;var t=e.handleClick,n=e.createResult,r=e.deleteResult,a=(e.reactions,e.reacted);return n.loading||r.loading?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(c.Fragment,null,a?u.a.createElement(d.Button,{_text:{color:"green.500",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",onPress:t},"Th\xedch"):u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",onPress:t},"Th\xedch"))}function On(e){return u.a.createElement(Bn,f()({},e,{UI:In}))}var kn=n(65);function jn(e){var t=e.handleClick,n=e.createResult,r=e.deleteResult,a=e.reacted;return n.loading||r.loading?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(c.Fragment,null,a?u.a.createElement(d.Button,{_text:{color:"green.500",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:u.a.createElement(kn.a,{name:"heart",color:"#22c55e",size:18,style:{marginTop:"-2px"}}),_hover:{bgColor:"gray.100"},onPress:t},"Th\xedch"):u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:u.a.createElement(kn.a,{name:"heart-o",color:"#a1a1aa",size:18,style:{marginTop:"-2px"}}),_hover:{bgColor:"gray.100"},onPress:t},"Th\xedch"))}function Wn(e){return u.a.createElement(Bn,f()({},e,{UI:jn}))}function Un(e){var t=e.loading,n=(e.error,e.allInteractiveReactions,e.count),r=void 0===n?0:n;return t?u.a.createElement(d.Text,null,"..."):u.a.createElement(d.Text,{color:"gray.400",fontSize:"12",fontWeight:"600"},r?r+" l\u01b0\u1ee3t th\xedch":"")}function _n(e){return u.a.createElement(Cn,f()({},e,{UI:Un}))}function zn(e){var t=e.loading,n=(e.error,e.allInteractiveReactions,e.count),r=void 0===n?0:n;return t?u.a.createElement(d.Text,null,"..."):u.a.createElement(d.HStack,{alignItems:"center",space:"1"},u.a.createElement(kn.a,{name:"heart",color:"#22c55e",size:18,style:{marginTop:"-2px"}}),u.a.createElement(d.Text,{color:"gray.800",fontSize:"14",fontWeight:"500"},r?r+" l\u01b0\u1ee3t th\xedch":"H\xe3y l\xe0 ng\u01b0\u1eddi \u0111\u1ea7u ti\xean th\xedch"))}function Tn(e){return u.a.createElement(Cn,f()({},e,{UI:zn}))}function $n(e){var t=e.loading,n=(e.error,e.timeAgo),r=e.interactive,a=(e.user,e.refetch),i=(e.loadMore,e.count,Object(c.useState)(!0)),l=o()(i,2);l[0],l[1];return t?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(d.HStack,{space:"2"},u.a.createElement(On,{interactive:r,onCompleted:function(e){a()}}),u.a.createElement(_n,{existing:{count:r._reactionsMeta.count}}),u.a.createElement(d.Text,{color:"gray.400",fontSize:"12"},n))}function Pn(e){return u.a.createElement(vn,f()({},e,{UI:$n}))}function Rn(e){var t,n,r=e.loading,a=(e.error,e.comment),o=void 0===a?{}:a,i=(e.refetch,e.timeAgo,e.onDeleted),l=Object(c.useContext)(V).user,m=void 0===l?{}:l,s=o.interactive;(void 0===s?{}:s)._commentsMeta;return r?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(d.Box,{mx:"auto",my:"2",w:"full"},u.a.createElement(d.HStack,{space:"2",display:"flex",flexDirection:"row",w:"full"},u.a.createElement(Zt,{existing:{user:o.createdBy}}),u.a.createElement(d.Box,{flex:"1"},u.a.createElement(d.Box,{bgColor:"gray.50",rounded:"8",p:"2",px:"3",flex:"1",w:"full"},u.a.createElement(Z.a,{to:{screen:"users",params:{id:null==o||null==(t=o.createdBy)?void 0:t.id}}},u.a.createElement(d.Text,{color:"gray.900",fontWeight:"600",fontSize:"14"},null==o||null==(n=o.createdBy)?void 0:n.name)),u.a.createElement(d.Text,{color:"gray.700",lineHeight:"18"},null==o?void 0:o.content)),u.a.createElement(d.HStack,{mt:"1",ml:"1",space:"2"},o.my_interactive&&u.a.createElement(Pn,{id:o.my_interactive.id}),u.a.createElement(d.Box,{ml:"auto"},o.createdBy&&m.id===o.createdBy.id&&u.a.createElement(rn,{id:o.id,onCompleted:i}))))))}function An(e){return u.a.createElement(dn,f()({},e,{UI:Rn}))}function Dn(e){var t=e.loading,n=(e.error,e.allInteractiveComments),r=void 0===n?[]:n,a=e.interactive,o=e.count,i=void 0===o?0:o,l=e.refetch,c=void 0===l?function(){}:l,m=e.getMore;return t?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(d.VStack,null,u.a.createElement(Jt,{my:"10",interactive:a,onCompleted:function(e){c()}}),r.map((function(e){return u.a.createElement(An,{key:e.id,existing:{comment:e,onDeleted:function(e){c()}}})})),i>r.length&&u.a.createElement(d.Button,{_text:{color:"gray.500",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",onPress:m},"Xem th\xeam b\xecnh lu\u1eadn"))}function Mn(e){return u.a.createElement(ln,f()({},e,{UI:Dn}))}kn.a.loadFont(),kn.a.loadFont();n(404);kn.a.loadFont();var Fn,Hn=function(e){var t=e.onPress;return u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:u.a.createElement(kn.a,{name:"comment-o",color:"#a1a1aa",size:18,style:{marginTop:"-4px"}}),_hover:{bgColor:"gray.100"},onPress:t},"B\xecnh lu\u1eadn")};Object(O.a)(Fn||(Fn=C()(["\n  mutation($id: ID!, $data: InteractiveCommentUpdateInput) {\n    updateInteractiveComment(id: $id, data: $data) {\n      id\n      content\n    }\n  }\n"])));var Nn=[{id:1,link:"#",thumbnailUrl:"https://vcdn1-dulich.vnecdn.net/2018/10/27/home-venice-italy.jpg?w=1200&h=0&q=100&dpr=1&fit=crop&s=PnlZagm9qKzpioNh9CVmUA"},{id:2,link:"#",thumbnailUrl:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632806027/241259419_246687107340299_4139464774758156957_n_s1zuao.jpg"},{id:3,link:"#",thumbnailUrl:"https://static.toiimg.com/photo/84475061.cms"},{id:4,link:"#",thumbnailUrl:"http://tonyenglish.vn/uploads/news/2019/0106/1546787257_MW-GY949_travel_20181122135819_ZH.jpg"},{id:5,link:"#",thumbnailUrl:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632719776/190312313_2943016239348813_282704590362946930_n_pc3vbb.jpg"},{id:6,link:"#",thumbnailUrl:"https://tuandungtravel.com/wp-content/uploads/2019/07/du-lich-ba-na-hills-tuan-dung-travel-9.jpg"}];var Ln=function(e){return u.a.createElement(d.VStack,{w:"full"},u.a.createElement(d.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},u.a.createElement(d.Text,{fontSize:"18px",fontWeight:"600",color:"gray.700"},"B\xe0i vi\u1ebft b\u1ea1n \u0111\xe3 l\u01b0u")),u.a.createElement(d.HStack,{maxw:"full",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},Nn.map((function(e){return u.a.createElement(d.Box,{key:e.id,minW:["49%","32%","24%"],m:"0.5%",borderWidth:"1px",borderColor:"gray.100",rounded:"10px",overflow:"hidden"},u.a.createElement(Wt,{key:e.id,item:e}))}))))};kn.a.loadFont();var Yn=function(){var e=Object(c.useState)(!1),t=o()(e,2),n=t[0],r=t[1],a=function(e){r((function(e){return!e})),console.log("Album Create Button")};return u.a.createElement(c.Fragment,null,n&&u.a.createElement(d.Button,{_text:{color:"green.500",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:u.a.createElement(kn.a,{name:"bookmark",color:"#22c55e",size:18}),_hover:{bgColor:"gray.100"},onPress:a},"L\u01b0u"),!n&&u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:u.a.createElement(kn.a,{name:"bookmark-o",color:"#a1a1aa",size:18}),_hover:{bgColor:"gray.100"},onPress:a},"L\u01b0u"))};kn.a.loadFont();var Vn,qn=function(e){var t=e.urls,n=void 0===t?[]:t,r={position:"absolute",top:"50%",color:"gray.700",p:"1",px:"10px",fontSize:"20",bgColor:"white",opacity:"0.6",rounded:"100px"},a=Object(c.useState)(0),i=o()(a,2),l=i[0],m=i[1],s=n.length,p={ml:"-"+100*l+"%"};return u.a.createElement(d.Flex,{w:"full",alignItems:"center",justifyContent:"center"},u.a.createElement(d.Flex,{w:"full",direction:"row",overflow:"hidden",position:"relative"},u.a.createElement(d.Flex,f()({direction:"row",w:"full"},p),n.map((function(e,t){return u.a.createElement(d.Box,{key:"slide-"+t,boxSize:"100%"},u.a.createElement(d.Image,{src:e,alt:"Slide Image",flex:"1",p:"50%"}))}))),u.a.createElement(d.Button,f()({},r,{left:"3",onPress:function(){m((function(e){return 0===e?s-1:e-1}))}}),u.a.createElement(kn.a,{name:"angle-left",color:"#000",size:18,style:{marginRight:1}})),u.a.createElement(d.Button,f()({},r,{right:"3",onPress:function(){m((function(e){return e===s-1?0:e+1}))}}),u.a.createElement(kn.a,{name:"angle-right",color:"#000",size:18,style:{marginLeft:1}})),u.a.createElement(d.HStack,{direction:"row",position:"absolute",bottom:"2",right:"2"},Array.from({length:s}).map((function(e,t){return u.a.createElement(d.Button,{key:"dots-"+t,w:"1",m:"0.5",p:"1",rounded:"100",opacity:"0.8",bgColor:l===t?"green.500":"white",onPress:function(){return function(e){m(e)}(t)}})})))))},Gn=Object(O.a)(Vn||(Vn=C()(["\n  query ($id: ID!) {\n    Post(where: { id: $id }) {\n      id\n      content\n      tags {\n        content\n      }\n      images {\n        file {\n          publicUrl\n        }\n      }\n      interactive {\n        id\n        comments(first: 5, sortBy: createdAt_DESC) {\n          id\n          content\n          createdAt\n          createdBy {\n            id\n            name\n            avatar{\n              publicUrl\n            }\n          }\n        }\n        reactions {\n          id\n          emoji\n          createdAt\n          createdBy {\n            id\n          }\n        }\n        _commentsMeta {\n          count\n        }\n        _reactionsMeta {\n          count\n        }\n      }\n      createdAt\n      createdBy {\n        id\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function Kn(e){var t=e.UI,n=e.id,r=e.where,a=e.existing,i=void 0===a?{}:a;if(i)return u.a.createElement(t,i);if(!n)return"invalid";var l=Object(j.a)(n?Gn:Rt,{variables:n?{id:n}:{where:r}}),c=l.loading,d=l.error,m=l.data,s=void 0===m?{}:m,p=l.refetch,g=s.allPosts,f=s.Post,x=g||[f],h=o()(x,1)[0];return u.a.createElement(t,{loading:c,error:d,post:h,refetch:p})}var Xn=n(281);function Jn(e){var t=e.loading,n=(e.error,e.interactive),r=(e.user,e.refetch),a=e.loadMore,o=void 0===a?function(){}:a;e.count;return t?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(c.Fragment,null,u.a.createElement(d.Box,{px:"3",mt:"2"},u.a.createElement(Tn,{existing:{allInteractiveReactions:n.reactions,count:n._reactionsMeta.count}})),u.a.createElement(d.Box,{px:"3"},u.a.createElement(d.HStack,{w:"full",my:"2",borderBottomWidth:"1",borderBottomColor:"gray.100",borderTopWidth:"1",borderTopColor:"gray.100",justifyContent:"space-around"},u.a.createElement(d.Box,{w:"33%"},u.a.createElement(Wn,{interactive:n,onCompleted:function(){r()},onError:function(){r()}})),u.a.createElement(d.Box,{w:"33%"},u.a.createElement(Hn,null)),u.a.createElement(d.Box,{w:"33%"},u.a.createElement(Yn,null)))),u.a.createElement(d.Box,{px:"3"},u.a.createElement(Mn,{existing:{interactive:n,allInteractiveComments:null==n?void 0:n.comments,_allInteractiveCommentsMeta:n.commentsMeta,refetch:r}}),n.comments.length<n._commentsMeta.count&&u.a.createElement(d.Button,{w:"150px",bgColor:"transparent",_text:{color:"gray.400",color:"black",fontSize:["13","14"],fontWeight:"600"},rounded:"8",onPress:function(){o()}},"T\u1ea3i th\xeam b\xecnh lu\u1eadn ...")))}function Zn(e){return u.a.createElement(vn,f()({},e,{UI:Jn}))}function Qn(e){var t,r,a,i,l,m,s=e.loading,p=(e.error,e.post),g=void 0===p?{}:p,f=(e.refetch,Object(c.useContext)(V).user),x=Object(c.useState)(!1),h=o()(x,2),v=h[0],b=h[1],E=function(e){var t=n(136),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}(null==g?void 0:g.createdAt);return s?u.a.createElement(d.Text,null,"\u0110ang t\u1ea3i"):u.a.createElement(d.Box,{maxW:["100%","container.md"],my:2,py:4,rounded:["0","xl"],borderWidth:"1",borderColor:"gray.100"},u.a.createElement(d.HStack,{space:"3",display:"flex",flexDirection:"row",px:"3",alignItems:"center",position:"relative",zIndex:"1"},u.a.createElement(Z.a,{to:{screen:"users",params:{id:null==g||null==(t=g.createdBy)?void 0:t.id}}},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==g||null==(r=g.createdBy)||null==(a=r.avatar)?void 0:a.publicUrl)||"/upload/img/no-image.png")},alt:"Profile image",size:"8",rounded:"100"})),u.a.createElement(Z.a,{to:{screen:"users",params:{id:null==g||null==(i=g.createdBy)?void 0:i.id}}},u.a.createElement(d.Text,{color:"gray.900",fontWeight:"600",fontSize:"14"},null==g||null==(l=g.createdBy)?void 0:l.name)),u.a.createElement(d.Text,{color:"gray.400",fontSize:"12"},E),v&&g.createdBy.id===f.id&&u.a.createElement(d.VStack,{position:"absolute",right:"3",top:"8",borderColor:"gray.100",borderWidth:"1",bgColor:"white",rounded:"10",space:"1",p:"2"},u.a.createElement(Er,null),u.a.createElement(d.Divider,{w:"full",bgColor:"gray.100"}),g&&u.a.createElement(Sr,{id:null==g?void 0:g.id})),g.createdBy&&g.createdBy.id===f.id&&u.a.createElement(d.Button,{bgColor:"transparent",p:"1",color:"gray.500",ml:"auto",onPress:function(){b((function(e){return!e})),console.log(v)}},u.a.createElement(Xn.a,{name:"dots-three-horizontal",color:"#a1a1aa",size:18,style:{marginTop:"-2px"}}))),u.a.createElement(d.Text,{px:"3",my:"2"},g.content),u.a.createElement(qn,{urls:null==g||null==(m=g.images)?void 0:m.map((function(e){var t;return"https://odanang.net"+(null==e||null==(t=e.file)?void 0:t.publicUrl)}))}),u.a.createElement(Zn,{id:null==g?void 0:g.interactive.id}))}function er(e){return u.a.createElement(Kn,f()({},e,{UI:Qn}))}Xn.a.loadFont();var tr=function(){var e,t=Object(c.useContext)(V).user;return u.a.createElement(d.Box,{mt:"2",mx:"0",w:"full",px:["0","1"]},u.a.createElement(d.HStack,{space:"4",alignItems:"center",w:"full",p:"3",my:"2",rounded:["0","12"],borderWidth:"1",borderColor:"gray.100"},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==t||null==(e=t.avatar)?void 0:e.publicUrl)||"/upload/img/no-image.png")},alt:"Profile image",size:"8",mx:"auto",rounded:"100"}),u.a.createElement(d.Box,{flex:"1"},u.a.createElement(d.Text,{color:"gray.500",fontSize:"15"},"B\u1ea1n \u0111ang ngh\u0129 g\xec?")),u.a.createElement(Z.a,{to:{screen:"newpost"}},u.a.createElement(d.Button,{bgColor:"green.500",_text:{color:"white",fontSize:["13","14"],fontWeight:"600"},rounded:"8",py:"2",px:"4",onPress:function(){}},"TH\xcaM B\xc0I VI\u1ebeT"))))};var nr=function(e){return u.a.createElement(d.Box,{maxW:"700",w:"full",p:"2"},u.a.createElement(Ut.a,{speed:"1",w:"full",mx:"auto",viewBox:"0 0 700 720",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",animate:"true"},u.a.createElement(_t.b,{x:"70",y:"15",rx:"10",ry:"10",width:"180",height:"20"}),u.a.createElement(_t.b,{x:"270",y:"15",rx:"10",ry:"10",width:"80",height:"20"}),u.a.createElement(_t.b,{x:"0",y:"70",rx:"10",ry:"10",width:"500",height:"20"}),u.a.createElement(_t.b,{x:"0",y:"110",rx:"10",ry:"10",width:"700",height:"550"}),u.a.createElement(_t.a,{cx:"25",cy:"25",r:"25"})))};function rr(e){var t=e.loading,n=e.error,r=e.allPosts,a=e.count,o=e.loadMore,i=e.loadingMore;e.refetch;return t||n?u.a.createElement(nr,null):u.a.createElement(d.VStack,{mb:"20px"},u.a.createElement(tr,null),r.map((function(e){return u.a.createElement(er,{key:e.id,existing:{post:e}})})),i&&u.a.createElement(nr,null),a>r.length&&u.a.createElement(d.Box,{px:"2"},u.a.createElement(d.Button,{my:3,bgColor:"green.500",_text:{color:"white",fontSize:["13","14"],fontWeight:"600"},rounded:"8",py:"2",px:"4",onPress:o},i?"\u0110ang t\u1ea3i":"T\u1ea3i th\xeam b\xe0i vi\u1ebft")))}function ar(e){return u.a.createElement(At,f()({},e,{UI:rr}))}var or=n(146);var ir,lr=function(){return u.a.createElement(d.Box,{maxW:"1000",w:"full",mx:"auto"},u.a.createElement(Ut.a,{speed:"1",w:"full",mx:"auto",viewBox:"0 0 1000 700",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",animate:"true"},u.a.createElement(_t.b,{x:"620",y:"15",rx:"40",ry:"40",width:"40",height:"40"}),u.a.createElement(_t.b,{x:"680",y:"25",rx:"10",ry:"10",width:"150",height:"20"}),u.a.createElement(_t.b,{x:"620",y:"70",rx:"10",ry:"10",width:"380",height:"25"}),u.a.createElement(_t.b,{x:"620",y:"120",rx:"10",ry:"10",width:"380",height:"100"}),u.a.createElement(_t.b,{x:"620",y:"235",rx:"10",ry:"10",width:"380",height:"100"}),u.a.createElement(_t.b,{x:"620",y:"350",rx:"10",ry:"10",width:"380",height:"100"}),u.a.createElement(_t.b,{x:"620",y:"465",rx:"10",ry:"10",width:"380",height:"100"}),u.a.createElement(_t.b,{x:"0",y:"15",rx:"10",ry:"10",width:"600",height:"550"})))},cr=Object(O.a)(ir||(ir=C()(["\n  query($id: ID!) {\n    Post(where: { id: $id }) {\n      id\n      content\n      tags {\n        content\n      }\n      images {\n        file {\n          publicUrl\n        }\n      }\n      interactive {\n        id\n      }\n      createdAt\n      createdBy {\n        id\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function ur(e){var t=e.UI,n=e.id,r=Object(j.a)(cr,{variables:{id:n}}),a=r.loading,o=r.error,i=r.data,l=void 0===i?{}:i,c=r.refetch,d=l.Post;return u.a.createElement(t,{loading:a,error:o,post:d,refetch:c})}function dr(e){var t,r,a,i,l,m,s,p,g=e.loading,f=(e.error,e.post),x=(e.refetch,e.isOpen),h=void 0===x||x,v=Object(c.useState)(!1),b=o()(v,2),E=b[0],y=b[1],w=Object(c.useState)(h),C=o()(w,2),S=(C[0],C[1],Object(c.useContext)(V).user),B=function(e){var t=n(136),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}(null==f?void 0:f.createdAt);if(g)return u.a.createElement(lr,null);return u.a.createElement(d.Stack,{direction:["column","column","column","row"],mx:"auto",my:"3",w:["100%","90%","80%","100%"],rounded:["0","xl"],borderWidth:"1",borderColor:"gray.100"},u.a.createElement(d.Box,{w:["100%","100%","100%","60%"]},u.a.createElement(qn,{urls:null==f||null==(t=f.images)?void 0:t.map((function(e){var t;return"https://odanang.net"+(null==e||null==(t=e.file)?void 0:t.publicUrl)}))})),u.a.createElement(d.VStack,{maxW:["100%","100%","100%","40%"],py:"3",px:["0","0","1"]},u.a.createElement(d.HStack,{space:"3",display:"flex",flexDirection:"row",w:"full",px:"3",alignItems:"center",position:"relative",zIndex:"1"},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==f||null==(r=f.createdBy)||null==(a=r.avatar)?void 0:a.publicUrl)||"/upload/img/no-image.png")},alt:"Profile image",size:"8",rounded:"100"}),u.a.createElement(Z.a,{to:{screen:"users",params:{id:null==f||null==(i=f.createdBy)?void 0:i.id}}},u.a.createElement(d.Text,{color:"gray.900",fontWeight:"600",fontSize:"14"},null==f||null==(l=f.createdBy)?void 0:l.name)),u.a.createElement(d.Text,{color:"gray.400",fontSize:"12"},B),E&&u.a.createElement(d.VStack,{position:"absolute",right:"3",top:"8",borderColor:"gray.100",borderWidth:"1",bgColor:"white",rounded:"10",space:"1",p:"2"},u.a.createElement(Er,null),u.a.createElement(d.Divider,{w:"full",bgColor:"gray.100"}),u.a.createElement(Sr,null)),E&&(null==f||null==(m=f.createdBy)?void 0:m.id)===(null==S?void 0:S.id)&&u.a.createElement(d.VStack,{position:"absolute",right:"3",top:"8",borderColor:"gray.100",borderWidth:"1",bgColor:"white",rounded:"10",space:"1",p:"2"},u.a.createElement(Er,null),u.a.createElement(d.Divider,{w:"full",bgColor:"gray.100"}),u.a.createElement(Sr,{id:null==f?void 0:f.id})),(null==f||null==(s=f.createdBy)?void 0:s.id)===(null==S?void 0:S.id)&&u.a.createElement(d.Button,{bgColor:"transparent",p:"1",color:"gray.500",ml:"auto",onPress:function(){y((function(e){return!e})),console.log(E)}},u.a.createElement(or.c,null))),u.a.createElement(d.Text,{px:"3",my:"2"},null==f?void 0:f.content),(null==f?void 0:f.interactive)&&u.a.createElement(Zn,{id:null==f||null==(p=f.interactive)?void 0:p.id,sortBy:"createdAt_DESC"})))}function mr(e){return u.a.createElement(ur,f()({},e,{UI:dr}))}n(828);var sr,pr,gr=Object(O.a)(sr||(sr=C()(["\n  mutation($data: PostCreateInput) {\n    createPost(data: $data) {\n      id\n      content\n      tags {\n        content\n      }\n    }\n  }\n"])));function fr(e){var t=e.UI,n=e.post,r=e.navigation,a=e.onCompleted,i=void 0===a?function(){}:a,l=Object(ae.a)(gr,{onCompleted:function(e){i(e),r.navigate("home")}}),c=o()(l,2),d=c[0],m=c[1],s=m.loading,p=m.error,g=m.data,f=(void 0===g?{}:g).createPost;return u.a.createElement(t,{loading:s,error:p,on:d,createPost:f,post:n})}function xr(e){var t=e.loading,n=e.error,r=e.on,a=Object(c.useRef)(),i=Object(c.useState)(""),l=o()(i,2),m=l[0],s=l[1];return u.a.createElement(d.Box,{maxW:"560",mx:"auto",w:"full",p:"2"},u.a.createElement(d.Heading,{my:"20px",textAlign:"center",fontSize:["18px","20px"]},"T\u1ea1o b\xe0i vi\u1ebft m\u1edbi"),u.a.createElement(d.Box,{px:5,py:7,rounded:10,borderWidth:1,borderColor:"gray.100",bg:"gray.50"},u.a.createElement(d.VStack,{space:3},u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,{_text:{color:"coolGray.800",fontSize:"14",fontWeight:400}},"N\u1ed9i dung b\xe0i vi\u1ebft"),u.a.createElement(d.TextArea,{placeholder:"Nh\u1eadp n\u1ed9i dung ...",w:"full",onChange:function(e){var t=e.target.value;s(t)},ref:a,name:"content",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),!t&&u.a.createElement(d.Button,{onPress:function(e){r({variables:{data:{content:m,interactive:{create:{comments:null,reactions:null}}}}})},rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"\u0110\u0102NG NGAY"),t&&u.a.createElement(d.Button,{rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),n&&u.a.createElement(d.Box,{mt:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},u.a.createElement(Text,{textAlign:"center",color:"red.500"},"Vui l\xf2ng ki\u1ec3m tra c\xe1c th\xf4ng tin")))}function hr(e){var t=Object(Ht.m)();return u.a.createElement(fr,f()({},e,{UI:xr,navigation:t}))}Object(O.a)(pr||(pr=C()(["\n  mutation($id: ID!, $data: UpdatePostInput) {\n    updatePost(id: $id, data: $data) {\n      id\n      content\n      tags {\n        content\n      }\n    }\n  }\n"])));var vr=n(282);vr.a.loadFont();var br,Er=function(){return u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"3",py:"1.5",bgColor:"transparrent",onPress:function(e){console.log("Post Update Text")},leftIcon:u.a.createElement(vr.a,{name:"edit",color:"#22c55e",size:18,style:{marginTop:"-2px"}})},"S\u1eeda b\xe0i vi\u1ebft")},yr=Object(O.a)(br||(br=C()(["\n  mutation($id: ID!) {\n    deletePost(id: $id) {\n      id\n      content\n    }\n  }\n"])));function wr(e){var t=e.UI,n=e.id,r=Object(ae.a)(yr,{onCompleted:function(e){}}),a=o()(r,2),i=a[0],l=a[1],c=l.loading,d=l.error,m=l.data,s=(void 0===m?{}:m).deletePost;return u.a.createElement(t,{loading:c,error:d,clickDetete:function(){i({variables:{id:n}})},post:s})}function Cr(e){var t=e.loading,n=(e.error,e.clickDetete);e.post;return t?"...":u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"3",py:"1.5",bgColor:"transparrent",onPress:function(e){n()}},"Xo\xe1 b\xe0i vi\u1ebft")}function Sr(e){return u.a.createElement(wr,f()({},e,{UI:Cr}))}var Br,Ir=function(e){return u.a.createElement(d.Box,{maxW:"1005",w:"full",mx:"auto",p:"1%"},u.a.createElement(Ut.a,{speed:"1",w:"full",mx:"auto",viewBox:"0 0 1005 320",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",animate:"true"},u.a.createElement(_t.a,{cx:"60",cy:"60",r:"60"}),u.a.createElement(_t.b,{x:"150",y:"10",rx:"15",ry:"15",width:"220",height:"30"}),u.a.createElement(_t.b,{x:"150",y:"55",rx:"10",ry:"10",width:"150",height:"20"}),u.a.createElement(_t.b,{x:"150",y:"90",rx:"10",ry:"10",width:"280",height:"20"}),u.a.createElement(_t.b,{x:"0",y:"160",rx:"10",ry:"10",width:"1005",height:"150"})))},Or=n(414),kr=["children","round","step","className","strongProps","pProps"],jr={paragraph:{fontFamily:"Lexend_400Regular",color:"#27272a",lineHeight:1.5},heading1:{fontSize:30,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:2.2},heading2:{fontSize:24,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:1.75},heading3:{fontSize:20,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:1.75},heading4:{fontSize:18,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:1.5},heading5:{fontSize:16,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:1.375},heading6:{fontSize:14,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:1.25},hr:{backgroundColor:"#e4e4e7",height:1,marginBottom:6},bullet_list:{},ordered_list:{},list_item:{flexDirection:"row",justifyContent:"flex-start",fontFamily:"Lexend_400Regular",color:"#27272a"},link:{textDecorationLine:"none",color:"#16a34a"},blockquote:{backgroundColor:"#fafafa",borderColor:"#e4e4e7",borderLeftWidth:3,margin:5,paddingHorizontal:10,paddingVertical:4},table:{borderWidth:1,borderColor:"#f4f4f5"},thead:{},tbody:{},th:{padding:5,flex:1,borderWidth:1,borderColor:"#f4f4f5"},tr:{flexDirection:"row"},td:{borderWidth:1,borderColor:"#f4f4f5",flex:1,padding:5},image:{marginTop:10,marginBottom:10,display:"flex"}};function Wr(e){var t=e.children,n=void 0===t?"":t;e.round,e.step,e.className,e.strongProps,e.pProps,h()(e,kr);return Object(c.useMemo)((function(){return u.a.createElement(Or.a,{children:n,style:jr})}),[n])}function Ur(e){var t,n,r,a,o=e.loading,i=(e.error,e.user),l=e.posts,m=e.relationship,s=e.count,p=Object(c.useContext)(V).user;return o?u.a.createElement(Ir,null):u.a.createElement(d.VStack,{maxw:"full",mx:"auto",my:"5",w:"full",space:"4"},u.a.createElement(d.HStack,{space:"7",m:"1%",alignItems:"center"},u.a.createElement(d.Box,null,u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==i||null==(t=i.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Alternate Text",w:["100px","120px"],h:["100px","120px"],rounded:"100"})),u.a.createElement(d.VStack,{flex:"1",space:["2","3"]},u.a.createElement(d.HStack,{space:"2"},u.a.createElement(d.Text,{fontSize:["20","22"],fontWeight:"600"},null==i?void 0:i.name)),u.a.createElement(d.HStack,{space:"4"},u.a.createElement(d.Text,{fontSize:"14",color:"gray.500"},u.a.createElement(d.Text,null,l.length," b\xe0i \u0111\u0103ng")),u.a.createElement(d.Text,{fontSize:"14",color:"gray.500"},s," b\u1ea1n b\xe8")))),u.a.createElement(d.VStack,{space:"2",mx:"1%",my:["1","0"]},u.a.createElement(d.Stack,{space:"2",alignItems:["start","center"],direction:["column","row"]},(null==i?void 0:i.id)!==(null==p?void 0:p.id)&&null===m&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.Text,{mr:"4",fontSize:"15",fontWeight:"600",color:"gray.500"},"G\u1eedi l\u1eddi m\u1eddi k\u1ebft b\u1ea1n \u0111\u1ebfn ",i.name),u.a.createElement(d.HStack,{space:"2",w:"120"},u.a.createElement(He,{toId:null==i?void 0:i.id}))),(null==i?void 0:i.id)!==(null==p?void 0:p.id)&&!0===(null==m?void 0:m.isAccepted)&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.Text,{mr:"4",fontSize:"15",fontWeight:"600",color:"gray.500"},"B\u1ea1n v\xe0 ",i.name," \u0111\xe3 l\xe0 b\u1ea1n b\xe8"),u.a.createElement(d.HStack,{space:"2"},u.a.createElement(rt,{id:m.id}))),(null==i?void 0:i.id)!==(null==p?void 0:p.id)&&(!1===(null==m?void 0:m.isAccepted)||null===(null==m?void 0:m.isAccepted))&&(null==m||null==(n=m.createdBy)?void 0:n.id)===p.id&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.Text,{mr:"4",fontSize:"15",fontWeight:"600",color:"gray.500"},"B\u1ea1n \u0111\xe3 g\u1eedi k\u1ebft b\u1ea1n \u0111\u1ebfn ",i.name),u.a.createElement(d.HStack,{space:"2"},u.a.createElement(ot,{id:m.id}))),(null==i?void 0:i.id)!==(null==p?void 0:p.id)&&(!1===(null==m?void 0:m.isAccepted)||null===(null==m?void 0:m.isAccepted))&&(null==m||null==(r=m.to)?void 0:r.id)===(null==p?void 0:p.id)&&(null==m||null==(a=m.createdBy)?void 0:a.id)===(null==i?void 0:i.id)&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.Text,{mr:"4",fontSize:"15",fontWeight:"600",color:"gray.500"},i.name," \u0111\xe3 g\u1eedi l\u1eddi m\u1eddi k\u1ebft b\u1ea1n"),u.a.createElement(d.HStack,{space:"2"},u.a.createElement(d.Box,{w:"130px"},u.a.createElement(Qe,{id:m.id})),u.a.createElement(d.Box,{w:"130px"},u.a.createElement(ot,{id:m.id})))))),u.a.createElement(d.VStack,{space:"2",m:"1%",mb:"-1"},u.a.createElement(d.Text,{fontSize:"18",fontWeight:"600",color:"gray.700"},"Gi\u1edbi thi\u1ec7u"),u.a.createElement(d.Divider,{bg:"gray.100",w:"full",my:"1",orientation:"horizontal"}),u.a.createElement(d.Text,{fontSize:"14",fontWeight:"400",color:"gray.600",lineHeight:"26px"},u.a.createElement(Wr,null,null==i?void 0:i.description))),(null==i?void 0:i.id)===(null==p?void 0:p.id)&&u.a.createElement(d.VStack,{space:"2",m:"1%"},u.a.createElement(d.HStack,{justifyContent:"space-between",alignItems:"center"},u.a.createElement(d.Text,{fontSize:"18",fontWeight:"600",color:"gray.700"},"B\u1ea1n b\xe8"),u.a.createElement(Z.a,{to:{screen:"friends"}},u.a.createElement(d.Text,{color:"green.500",textDecoration:"none"},"Xem t\u1ea5t c\u1ea3"))),u.a.createElement(d.Divider,{bg:"gray.100",w:"full",my:"1",orientation:"horizontal"})),u.a.createElement(d.Box,null,u.a.createElement(d.VStack,{w:"98%",space:"2",m:"1%"},u.a.createElement(d.Text,{fontSize:"18",fontWeight:"600",color:"gray.700"},"B\xe0i vi\u1ebft"),u.a.createElement(d.Divider,{bg:"gray.100",w:"full",my:"1",orientation:"horizontal"})),u.a.createElement(Lt,null)))}function _r(e){return u.a.createElement(_e,f()({},e,{UI:Ur}))}var zr=Object(O.a)(Br||(Br=C()(["\n    mutation($id: ID!, $data: UserUpdateInput) {\n        updateUser(id: $id, data: $data) {\n            id\n        }\n    }\n  \n"])));function Tr(e){var t=e.UI,n=(e.post,e.navigation,e.user),r=Object(ae.a)(zr),a=o()(r,2),i=a[0],l=a[1],c=l.loading,d=l.error;l.data;return u.a.createElement(t,{user:n,loading:c,error:d,on:i})}function $r(e){var t,n=e.loading,r=e.error,a=e.user,i=e.on,l=Object(c.useState)(null==a?void 0:a.name),m=o()(l,2),s=m[0],p=m[1],g=Object(c.useState)(null==a?void 0:a.phone),f=o()(g,2),x=f[0],h=f[1],v=Object(c.useState)(null==a?void 0:a.description),b=o()(v,2),E=b[0],y=b[1],w=Object(c.useState)("male"),C=o()(w,2),S=C[0],B=C[1],I=Object(c.useState)(null),O=o()(I,2),k=O[0],j=O[1];return u.a.createElement(c.Fragment,null,u.a.createElement(d.Box,{maxW:"400",w:"full",mx:"auto",mt:"4"},u.a.createElement(d.Heading,{my:"20px",textAlign:"center",fontSize:["18px","20px"]},"Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n"),u.a.createElement(d.Box,{px:5,py:7,rounded:10,borderWidth:1,borderColor:"gray.100",bg:"gray.50"},u.a.createElement(d.VStack,{space:3},u.a.createElement(d.VStack,{space:"4",mb:"3"},u.a.createElement(d.Image,{source:{uri:"https://odanang.net"+((null==a||null==(t=a.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Alternate Text",size:"lg",mx:"auto",rounded:"100"}),u.a.createElement(d.Button,{_text:{color:"gray.400",fontSize:"14",fontWeight:"600"},p:"2",rounded:"8",w:"50%",bgColor:"gray.100",mx:"auto"},"Thay \u0111\u1ed5i \u1ea3nh \u0111\u1ea1i di\u1ec7n")),u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,{_text:{color:"gray.800",fontSize:"14",fontWeight:400}},"H\u1ecd v\xe0 t\xean"),u.a.createElement(d.Input,{onChange:function(e){return p(e.target.value)},value:s,name:"username",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,{_text:{color:"gray.800",fontSize:"14",fontWeight:400}},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),u.a.createElement(d.Input,{onChange:function(e){return h(e.target.value)},value:x,name:"phone",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,{_text:{color:"gray.800",fontSize:"14",fontWeight:400}},"Gi\u1edbi thi\u1ec7u"),u.a.createElement(d.TextArea,{onChange:function(e){return y(e.target.value)},value:E,name:"description",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,{mb:"2"},u.a.createElement(d.FormControl.Label,{_text:{color:"gray.800",fontSize:"14",fontWeight:400}},"Gi\u1edbi t\xednh"),u.a.createElement(d.Radio.Group,{name:"sex",accessibilityLabel:"sex",value:S,onChange:function(e){B(e)}},u.a.createElement(d.HStack,{space:"8"},u.a.createElement(d.Radio,{colorScheme:"green",size:"sm",value:"male",borderWidth:"1",borderColor:"gray.300"},u.a.createElement(d.Text,{fontSize:"13",ml:"1.5"},"Nam")),u.a.createElement(d.Radio,{borderWidth:"1",borderColor:"gray.300",colorScheme:"green",size:"sm",value:"female"},u.a.createElement(d.Text,{fontSize:"13",ml:"1.5"},"N\u1eef")),u.a.createElement(d.Radio,{borderWidth:"1",borderColor:"gray.300",colorScheme:"green",size:"sm",value:"other"},u.a.createElement(d.Text,{fontSize:"13",ml:"1.5"},"Kh\xe1c"))))),!n&&u.a.createElement(d.Button,{onPress:function(){j(null),s.trim()&&isNaN(s)&&s.includes(" ")?!x.trim()||10!==x.length&&11!==x.length||isNaN(x)?j("Ki\u1ec3m tra l\u1ea1i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"):(console.log(s,x,E,S),i({variables:{id:null==a?void 0:a.id,data:{name:s,phone:x,description:E,gender:S}}})):j("Ki\u1ec3m tra l\u1ea1i h\u1ecd v\xe0 t\xean")},rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"L\u01afU THAY \u0110\u1ed4I"),n&&u.a.createElement(d.Button,{rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),r&&u.a.createElement(d.Box,{my:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},u.a.createElement(d.Text,{textAlign:"center",color:"red.500"},"Vui l\xf2ng s\u1eed d\u1ee5ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xe1c")),k&&u.a.createElement(d.Box,{my:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},u.a.createElement(d.Text,{textAlign:"center",color:"red.500"},k))))}function Pr(e){return u.a.createElement(Tr,f()({},e,{UI:$r}))}var Rr=function(e){var t=e.loading,n=e.error,r=(e.user,e.navigation,Object(c.useRef)()),a=Object(c.useRef)(),i=Object(c.useRef)(),l=Object(c.useState)(null),m=o()(l,2),s=m[0],p=m[1];return u.a.createElement(c.Fragment,null,u.a.createElement(d.Box,{maxW:"350",w:"full",mx:"auto",mt:"4"},u.a.createElement(d.Heading,{my:"20px",textAlign:"center",fontSize:["18px","20px"]},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"),u.a.createElement(d.Box,{px:5,py:7,rounded:10,borderWidth:1,borderColor:"gray.100",bg:"gray.50"},u.a.createElement(d.VStack,{space:3},u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,{_text:{color:"coolGray.800",fontSize:"14",fontWeight:400}},"M\u1eadt kh\u1ea9u c\u0169"),u.a.createElement(d.Input,{ref:r,name:"oldpassword",type:"password",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,{_text:{color:"coolGray.800",fontSize:"14",fontWeight:400}},"M\u1eadt kh\u1ea9u m\u1edbi"),u.a.createElement(d.Input,{ref:a,name:"newpassword",type:"password",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),u.a.createElement(d.FormControl,null,u.a.createElement(d.FormControl.Label,{_text:{color:"coolGray.800",fontSize:"14",fontWeight:400}},"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi"),u.a.createElement(d.Input,{ref:i,name:"confirmpassword",type:"password",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),!t&&u.a.createElement(d.Button,{onPress:function(){p(null);var e=r.current.value,t=a.current.value,n=i.current.value;e.trim().length<6?p("Ki\u1ec3m tra l\u1ea1i m\u1eadt kh\u1ea9u c\u0169"):t.trim().length<6?p("\u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u m\u1edbi \xedt nh\u1ea5t 6 k\xed t\u1ef1"):t===n?console.log(e,t,n):p("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang")},rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"L\u01afU THAY \u0110\u1ed4I"),t&&u.a.createElement(d.Button,{rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),n&&u.a.createElement(d.Box,{mt:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},u.a.createElement(d.Text,{textAlign:"center",color:"red.500"},"Vui l\xf2ng ki\u1ec3m tra l\u1ea1i m\u1eadt kh\u1ea9u c\u0169")),s&&u.a.createElement(d.Box,{mt:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},u.a.createElement(d.Text,{textAlign:"center",color:"red.500"},s))))};var Ar=function(){return u.a.createElement(d.Box,{w:"full",borderTopWidth:"1px",borderColor:"gray.100",py:"12px",mt:"40px"},u.a.createElement(d.Container,{w:"container.lg",mx:"auto",maxW:"full",px:"8px"},u.a.createElement(d.HStack,{borderBottomWidth:"1px",borderColor:"gray.100",pb:"12px",mb:"12px",w:"100%"},u.a.createElement(d.Text,{color:"gray.500",fontSize:["12px","13px"]},"Ti\u1ebfng Vi\u1ec7t. English. \u4e2d\u6587 (Zh\u014dngw\xe9n). \u6c49\u8bed, \u6f22\u8a9e, \u65e5\u672c\u8a9e (\u306b\u307b\u3093\u3054). \ud55c\uad6d\uc5b4, fran\xe7ais, langue fran\xe7aise.")),u.a.createElement(d.Stack,{justifyContent:"space-between",w:"100%",direction:["column","row"]},u.a.createElement(d.VStack,{space:"2px"},u.a.createElement(d.Text,{color:"gray.500",fontSize:["12px","13px"]},"Odanang - M\u1ea1ng x\xe3 h\u1ed9i sinh vi\xean."),u.a.createElement(d.Text,{color:"gray.500",fontSize:["12px","13px"]},"Phi\xean b\u1ea3n v1.0-beta.0")),u.a.createElement(d.VStack,{space:"2px"},u.a.createElement(d.Text,{color:"gray.500",fontSize:["12px","13px"],textAlign:"right"},"\u0110\u1ed3 \xe1n c\xf4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m PBL6."),u.a.createElement(d.Text,{color:"gray.500",fontSize:["12px","13px"],textAlign:"right"},"\u0110\u1ea1i h\u1ecdc B\xe1ch Khoa - \u0110\u1ea1i h\u1ecdc \u0110\xe0 N\u1eb5ng. C\xe1c th\xe0nh vi\xean: 1. Tr\u1ea7n Ng\u1ecdc Huy 2. Nguy\u1ec5n Kim Huy 3. Tr\u1ea7n Di\u1ec7p Ph\u01b0\u01a1ng 4. Tr\u1ea7n V\u0169 Minh Tri\u1ebft")))))};var Dr={initialRouteName:"home",auth:{component:function(e){var t=e.navigation;return u.a.createElement(c.Fragment,null,u.a.createElement(d.Container,{w:"container.lg",m:"auto",mt:"0",maxW:"90%"},u.a.createElement(ce,{navigation:t})),u.a.createElement(Ar,null))},requires:["home"]},screens:[{name:"home",component:function(e){e.navigation;var t=Object(c.useContext)(V).user;return u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:["0","8px"]},u.a.createElement(d.Flex,{w:"full",direction:"row"},u.a.createElement(d.Box,{flex:[1,1,1,9],maxW:"680px",mx:["auto","auto","auto","0"]},u.a.createElement(ar,{first:5})),"web"===Ce.a.OS&&u.a.createElement(d.Box,{flex:[0,0,0,3],display:["none","none","none","block"]},u.a.createElement(d.Box,{w:"full",py:"8px",pl:"24px",pr:"8px",position:"sticky",top:"64px"},u.a.createElement(Ot,{id:null==t?void 0:t.id})))))},options:{title:"Trang ch\u1ee7"}},{name:"users",component:function(e){e.navigation;var t=Object(c.useContext)(V).user,n=Object(Ht.o)().params,r=(void 0===n?{}:n).id;return u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(_r,{id:r,my_id:null==t?void 0:t.id}))},options:{title:"Trang c\xe1 nh\xe2n"}},{name:"posts",component:function(e){e.navigation;var t=Object(Ht.o)().params,n=(void 0===t?{}:t).id;return u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:["0","8px"]},u.a.createElement(mr,{id:n}))},options:{title:"Trang b\xe0i vi\u1ebft"}},{name:"signup",component:function(e){var t=e.navigation;return u.a.createElement(c.Fragment,null,u.a.createElement(d.Container,{w:"container.lg",m:"auto",mt:"0",maxW:"90%"},u.a.createElement(pe,{navigation:t})),u.a.createElement(Ar,null))},options:{title:"\u0110\u0103ng k\xfd"}},{name:"newpost",component:function(e){return e.navigation,u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(hr,null))},options:{title:"T\u1ea1o b\xe0i vi\u1ebft m\u1edbi"}},{name:"friendsuggestion",component:function(e){e.navigation;var t=Object(c.useContext)(V).user;return u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(lt,{id:null==t?void 0:t.id}))},options:{title:"B\u1ea1n b\xe8 g\u1ee3i \xfd"}},{name:"friendrequest",component:function(e){e.navigation;var t=Object(c.useContext)(V).user;return u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(jt,{id:null==t?void 0:t.id}))},options:{title:"L\u1eddi m\u1eddi k\u1ebft b\u1ea1n"}},{name:"friends",component:function(e){e.navigation;var t=Object(c.useContext)(V).user;return u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(ht,{id:null==t?void 0:t.id}))},options:{title:"T\u1ea5t c\u1ea3 b\u1ea1n b\xe8"}},{name:"userupdate",component:function(e){e.navigation;var t=Object(c.useContext)(V).user;return u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(Pr,{user:t}))},options:{title:"Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n"}},{name:"updatepassword",component:function(e){return e.navigation,u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(Rr,null))},options:{title:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}},{name:"album",component:function(e){return e.navigation,u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(Ln,null))},options:{title:"\u0110\xe3 l\u01b0u"}},{name:"earlyaccess",component:function(e){e.navigation;var t=Object(c.useContext)(V),n=(t.loading,t.error,t.user);return u.a.createElement(c.Fragment,null,u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"24px",maxW:"full",px:"8px"},u.a.createElement(d.VStack,{maxW:"500",w:"full",mx:"auto",mt:"100px",alignItems:"center",space:"24px"},u.a.createElement(d.Image,{source:{uri:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632635691/favicon_gc42jc.svg"},alt:"Logo",size:"100px",mx:"auto"}),u.a.createElement(d.VStack,{alignItems:"center"},u.a.createElement(d.Text,{fontSize:"18px",fontWeight:"600",mb:"8px",textAlign:"center",maxW:["80%","100%"]},"KILOGRAM - M\u1ea0NG X\xc3 H\u1ed8I D\xc0NH CHO SINH VI\xcaN"),u.a.createElement(d.Text,{color:"gray.500",fontSize:"16px"},"\u0110\u01b0\u1ee3c ph\xe1t tri\u1ec3n b\u1edfi sinh vi\xean \u0110H BK\u0110N")),u.a.createElement(d.Heading,{fontSize:["54px","80px"],color:"green.500",my:"8px",textAlign:"center"},"S\u1eaeP RA M\u1eaeT"),u.a.createElement(d.Box,null,u.a.createElement(d.HStack,{justifyContent:"center",mb:"8"},u.a.createElement(d.Text,{fontSize:"18",color:"gray.500",mr:3},"S\u1ed1 ng\u01b0\u1eddi \u0111\u0103ng k\xfd:"),u.a.createElement(d.Box,{fontSize:"18px",fontWeight:"600"},u.a.createElement(ut,null))),!n&&u.a.createElement(d.HStack,{justifyContent:"center"},u.a.createElement(d.Text,null,"H\xe3y "),u.a.createElement(Z.a,{to:{screen:"signup"}},u.a.createElement(d.Text,{color:"green.500",textDecoration:"none"},"\u0111\u0103ng k\xfd")),u.a.createElement(d.Text,null," m\u1ed9t t\xe0i kho\u1ea3n \u0111\u1ec3 gi\u1eef ch\u1ed7 "))))),u.a.createElement(Ar,null))},options:{title:"Odanang - S\u1eafp ra m\u1eaft"}},{name:"result",component:function(e){e.navigation;var t=Object(c.useContext)(V).user,n=Object(Ht.o)().params,r=(void 0===n?{}:n).keyword;return u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},"web"===Ce.a.OS?u.a.createElement(d.Flex,{w:"full",direction:"row"},u.a.createElement(u.a.Fragment,null,u.a.createElement(d.Box,{flex:[1,1,1,9],maxW:"680px",mx:["auto","auto","auto","0"]},u.a.createElement(d.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},u.a.createElement(d.Text,{fontSize:["16","18"],fontWeight:"600",color:"gray.700",px:["8px","0"]},"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm cho ",r)),u.a.createElement(yt,{keyword:r,my_id:null==t?void 0:t.id})),u.a.createElement(d.Box,{flex:[0,0,0,3],display:["none","none","none","block"]},u.a.createElement(d.Box,{w:"full",py:"8px",pl:"24px",pr:"8px",position:"sticky",top:"64px"},u.a.createElement(Ot,null))))):u.a.createElement(u.a.Fragment,null,u.a.createElement(d.VStack,{w:"100%"},u.a.createElement(d.Box,{w:"full",mt:"12px",my:"20px",px:"0.5%"},u.a.createElement(we.a,{style:{fontWeight:"500",fontFamily:"Lexend_500Medium",fontSize:20}},"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm cho ",r)),u.a.createElement(yt,{keyword:r,my_id:null==t?void 0:t.id}))))},options:{title:"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm"}},{name:"markdown",component:function(e){return e.navigation,u.a.createElement(d.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},u.a.createElement(Wr,null,'\n# Odanang\n## M\u1ea1ng x\xe3 h\u1ed9i d\xe0nh cho sinh vi\xean\n\n![Logo](https://res.cloudinary.com/cloudinaryassets/image/upload/v1633593799/logo-header_qh37fo.svg)\n\n### Gi\u1edbi thi\u1ec7u\n\n---\n\n\u0110\u1ed3 \xe1n c\xf4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m **PBL6**.\n\u0110\u1ea1i h\u1ecdc B\xe1ch Khoa - \u0110\u1ea1i h\u1ecdc \u0110\xe0 N\u1eb5ng.\nC\xe1c th\xe0nh vi\xean:\n1. Tr\u1ea7n Ng\u1ecdc Huy\n2. Nguy\u1ec5n Kim Huy\n3. Tr\u1ea7n Di\u1ec7p Ph\u01b0\u01a1ng\n4. Tr\u1ea7n V\u0169 Minh Tri\u1ebft\n\n\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1eb7t ch\u1ed7 [t\u1ea1i \u0111\xe2y](https://github.com/truongduchuy910/PBL6).\n\n> "Tr\xedch d\u1eabn c\u1ee7a ai \u0111\xf3"\n'),u.a.createElement(d.Box,{w:"100%"}))},options:{title:"Markdown"}},{name:"test",component:function(e){return e.navigation,u.a.createElement(c.Fragment,null,u.a.createElement(d.Container,null,u.a.createElement(hr,null),u.a.createElement(ar,{first:3})))},options:{title:"Test Component"}}],linking:{prefixes:["https://odanang.net"],config:{screens:{home:"/",users:"users/:id",posts:"posts/:id",signup:"signup",newpost:"newpost",friendsuggestion:"friendsuggestion",friendrequest:"friendrequest",userupdate:"userupdate",updatepassword:"updatepassword",album:"album",earlyaccess:"earlyaccess",friends:"friends",result:"result",markdown:"markdown",test:"test"}}}},Mr=n(921),Fr=n(410),Hr=n(277),Nr=n(411);var Lr=function(e){var t=e.navigation,n=Object(c.useRef)(),r=Object(c.useState)(!1),a=o()(r,2),i=a[0],l=a[1],m=function(){l((function(e){return!e}))},s=Object(c.useContext)(V).user;return Object(c.useEffect)((function(){var e=function(e){i&&n.current&&!n.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[i]),u.a.createElement(d.Box,{position:"relative",right:"0",ref:n},u.a.createElement(d.Button,{onPress:m,rounded:"100",bgColor:"gray.100",p:"10px",_text:{color:"gray.400",fontWeight:"600"}},u.a.createElement(Fr.a,{color:"#a1a1aa"})),i&&u.a.createElement(d.Box,{position:"absolute",top:"40px",right:"0",w:"200px"},u.a.createElement(d.VStack,{space:"6px",bgColor:"white",p:"8px",rounded:"8px",borderWidth:"1px",borderColor:"gray.100",alignItems:"start"},u.a.createElement(d.Button,{bgColor:"white",leftIcon:u.a.createElement(Hr.b,{color:"#22c55e"}),onPress:m},u.a.createElement(Z.a,{to:{screen:"users",params:{id:s.id}}},u.a.createElement(d.Text,null,"Trang c\xe1 nh\xe2n"))),u.a.createElement(d.Button,{bgColor:"white",leftIcon:u.a.createElement(Nr.a,{color:"#22c55e"}),onPress:m},u.a.createElement(Z.a,{to:{screen:"userupdate"}},u.a.createElement(d.Text,null,"C\xe0i \u0111\u1eb7t"))),u.a.createElement(d.Button,{bgColor:"white",leftIcon:u.a.createElement(or.b,{color:"#22c55e"}),onPress:m},u.a.createElement(Z.a,{to:{screen:"updatepassword"}},u.a.createElement(d.Text,null,"\u0110\u1ed5i m\u1eadt kh\u1ea9u"))),u.a.createElement(d.Button,{bgColor:"white",leftIcon:u.a.createElement(Hr.a,{color:"#22c55e"}),onPress:m},u.a.createElement(Z.a,{to:{screen:"album"}},u.a.createElement(d.Text,null,"L\u01b0u"))),u.a.createElement(ve,{navigation:t}))))};var Yr,Vr=function(e){return u.a.createElement(d.Button,{bgColor:"white",onPress:e.notificationHandler},u.a.createElement(d.HStack,{space:"12px",display:"flex",flexDirection:"row",w:"full",px:"4px",alignItems:"flex-start",justifyContent:"flex-start",position:"relative",zIndex:"1"},u.a.createElement(d.Image,{source:{uri:e.item.imgUrl},alt:"Profile image",size:"40px",rounded:"100",mt:"4px"}),u.a.createElement(d.Box,null,u.a.createElement(d.Text,{color:"gray.900",fontWeight:"600"},e.item.user),u.a.createElement(d.Text,null,e.item.content),u.a.createElement(d.Text,{color:"gray.400",fontSize:"12px"},e.item.time))))},qr=Object(O.a)(Yr||(Yr=C()(["\n  query ($id: ID!, $first: Int) {\n    allRelationships(\n      first: $first\n      sortBy: updatedAt_DESC\n      where: { to: { id: $id } }\n    ) {\n      id\n      isAccepted\n      createdAt\n      createdBy {\n        id\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        name\n      }\n    }\n\n    allInteractives(\n      first: $first\n      where: { createdBy: { id: $id } }\n      sortBy: updatedAt_DESC\n    ) {\n      id\n      comments(first: $first, sortBy: createdAt_DESC) {\n        id\n        content\n        createdAt\n        createdBy {\n          id\n          name\n          avatar {\n            publicUrl\n          }\n        }\n      }\n      reactions(first: $first, sortBy: createdAt_DESC) {\n        id\n        createdAt\n        createdBy {\n          id\n          name\n          avatar {\n            publicUrl\n          }\n        }\n      }\n    }\n  }\n"])));function Gr(e){var t=n(136),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}function Kr(e){var t=e.UI,n=e.first,r=void 0===n?3:n,a=e.id,o=Object(j.a)(qr,{variables:{first:r,id:a},pollInterval:3e3}),i=o.loading,l=o.error,c=o.data,d=void 0===c?{}:c,m=d.allRelationships,s=void 0===m?[]:m,p=d.allInteractives,g=void 0===p?[]:p,f=[],x=[];g.length&&g.forEach((function(e){e.comments&&e.comments.forEach((function(e){return f.push(e)})),e.reactions&&e.reactions.forEach((function(e){return x.push(e)}))}));var h=[];h.push.apply(h,f.concat(x)),s&&h.push.apply(h,b()(s)),h.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));var v=h.filter((function(e){var t;return(null==(t=e.createdBy)?void 0:t.id)!==a}));v.length>4&&(v=v.slice(0,4));var E=[];return v.forEach((function(e){switch(e.__typename){case"InteractiveComment":E.push({id:e.id,user:e.createdBy.name,imgUrl:"https://odanang.net"+(e.createdBy.avatar.publicUrl||"/upload/img/no-image.png"),content:"\u0111\xe3 b\xecnh lu\u1eadn v\u1ec1 b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n.",time:Gr(e.createdAt)});break;case"InteractiveReaction":E.push({id:e.id,user:e.createdBy.name,imgUrl:"https://odanang.net"+(e.createdBy.avatar.publicUrl||"/upload/img/no-image.png"),content:"\u0111\xe3 th\xedch b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n.",time:Gr(e.createdAt)});break;case"Relationship":e.isAccepted?E.push({id:e.id,user:e.createdBy.name,imgUrl:"https://odanang.net"+(e.createdBy.avatar.publicUrl||"/upload/img/no-image.png"),content:"v\xe0 b\u1ea1n \u0111\xe3 tr\u1edf th\xe0nh b\u1ea1n b\xe8",time:Gr(e.createdAt)}):E.push({id:e.id,user:e.createdBy.name,imgUrl:"https://odanang.net"+(e.createdBy.avatar.publicUrl||"/upload/img/no-image.png"),content:"\u0111\xe3 g\u1eedi l\u1eddi m\u1eddi k\u1ebft b\u1ea1n \u0111\u1ebfn b\u1ea1n.",time:Gr(e.createdAt)});break;default:E.push({})}})),u.a.createElement(t,{loading:i,error:l,data:E,allRelationships:s})}function Xr(e){e.loading,e.error;var t=e.data;e.allRelationships;return u.a.createElement(d.Box,{position:"absolute",top:"10",right:"0",w:"300px"},u.a.createElement(d.VStack,{py:"8px",bgColor:"white",rounded:"8px",borderWidth:"1px",borderColor:"gray.100",alignItems:"start"},t.map((function(e){return u.a.createElement(Vr,{key:e.id,item:e})}))))}function Jr(e){return u.a.createElement(Kr,f()({},e,{UI:Xr}))}var Zr=function(){var e=Object(c.useRef)(),t=Object(c.useState)(!1),n=o()(t,2),r=n[0],a=n[1],i=Object(c.useContext)(V).user,l=function(){a((function(e){return!e}))};return Object(c.useEffect)((function(){var t=function(t){r&&e.current&&!e.current.contains(t.target)&&a(!1)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[r]),u.a.createElement(d.Box,{position:"relative",right:"0",ref:e},u.a.createElement(d.Button,{onPress:l,rounded:"100",bgColor:"gray.100",p:"10px",_text:{color:"gray.400",fontWeight:"600"}},u.a.createElement(or.a,{color:"#a1a1aa"})),r&&u.a.createElement(Jr,{notificationHandler:l,id:null==i?void 0:i.id}))},Qr=n(269),ea=n.n(Qr),ta=n(280);ta.a.loadFont();var na=function(e){ea()(e);var t=Object(Ht.m)();return u.a.createElement(d.Box,{position:"relative",right:"0",display:["none","none","block"]},u.a.createElement(d.FormControl,null,u.a.createElement(d.Input,{onKeyPress:function(e){"Enter"===e.key&&(console.log(e.target.value),t.navigate("result"))},bgColor:"white",px:"2",py:"1.5",pl:"8",borderWidth:"1",borderColor:"gray.100",rounded:"6",placeholder:"T\xecm ki\u1ebfm tr\xean Odanang",fontFamily:"Lexend_400Regular",fontSize:"14",w:"250px",_focus:{borderColor:"green.500"}})),u.a.createElement(d.Box,{position:"absolute",top:"2.5",left:"2.5",size:"14"},u.a.createElement(ta.a,{name:"search",size:16,color:"#a1a1aa"})))};function ra(e){var t=e.user,n=e.navigation;e.route,e.options,e.back;return u.a.createElement(d.Box,{w:"full",position:"fixed",borderBottomWidth:"1px",borderColor:"gray.100",bgColor:"white"},u.a.createElement(d.Container,{w:"container.lg",mx:"auto",maxW:"full",px:"8px"},u.a.createElement(d.Box,{safeAreaTop:!0,pt:"12px",pb:"8px",boxSize:"full"},u.a.createElement(d.HStack,{justifyContent:"space-between",alignItems:"center"},u.a.createElement(Z.a,{to:{screen:"home"}},u.a.createElement(d.Image,{source:{uri:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1638544817/logo-header_vczz5x.svg"},alt:"Logo",w:"150px",h:"40px"})),t&&u.a.createElement(na,null),t&&u.a.createElement(d.HStack,{alignItems:"center",space:"10px"},u.a.createElement(d.Box,{display:["none","block"]},u.a.createElement(ee,{navigation:n})),u.a.createElement(Zr,null),u.a.createElement(Lr,{navigation:n}))))))}function aa(e){return u.a.createElement(J,f()({},e,{UI:ra}))}function oa(){var e=Object(c.useState)(!1),t=o()(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(Mr.b({Lexend_300Light:m.a,Lexend_400Regular:m.b,Lexend_500Medium:m.c,Lexend_600SemiBold:m.d,Lexend_700Bold:m.e}));case 2:r(!0);case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[]),n?u.a.createElement(d.NativeBaseProvider,{theme:s},u.a.createElement(K,{navigation:Dr,header:aa})):null}n(106).a.registerComponent("Odanang",(function(){return oa}));var ia=oa;Object(r.a)(ia)}},[[423,1,2]]]);
//# sourceMappingURL=app.7a7ee43f.chunk.js.map